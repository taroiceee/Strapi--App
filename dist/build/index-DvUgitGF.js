const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-BQrbRISW.js","strapi-C9nOTXTf.js","strapi-DU8PNWtk.css","sortable.esm-C0U5iEq-.js","groupBy-CKaPrpuM.js","_baseEach-Cpsdo55Q.js","sortBy-wJ8cSCBY.js","_baseMap-xWvudWtX.js","index-dW734B2A.js","index-BRVyLNfZ.js","_arrayIncludesWith-BNzMLSv9.js"])))=>i.map(i=>d[i]);
import{iv as vn,r as K,j as u,T as ye,cl as Sa,b as Pa,a as me,f9 as Wb,aU as Bb,aK as On,cj as In,aY as Ua,e as ne,D as ze,cc as Ut,gb as Vb,bi as El,ew as Ao,h as ol,ay as xn,I as Co,F as Ro,a8 as Te,bn as $o,bo as So,k as St,bR as Ol,iw as Hb,hL as sl,g5 as Ie,ix as Zb,o as za,n as Dl,iy as Gb,w as No,iz as Kb,bp as ql,U as Ir,ch as Pl,ao as Yb,c3 as Ea,iA as Re,iB as ul,iC as Jb,M as ie,hM as Ul,Y as Xb,$ as Na,a0 as ll,iD as Qb,iE as ey,a1 as ty,a2 as ny,a4 as $r,a3 as co,Z as cl,a5 as dl,a6 as ry,W as ay,iF as fl,X as iy,a7 as oy,V as sy,iG as uy,iH as Io,H as Dn,s as ly,ag as cy,ar as dy,a_ as fy,ai as En,bA as zl,c9 as _n,ex as $t,aw as Er,ax as Or,iI as Wl,bh as Lo,iJ as Bl,fL as Vl,co as py,cp as my,iK as pl,iL as hy,iM as gy,iN as by,iO as yy,iP as vy,iQ as xy,iR as _y,iS as Cy,iT as jy,iU as wy,iV as Ty,iW as My,iX as ky,iY as Fy,iZ as Ay,i5 as Ry,i_ as $y,i$ as Sy,iq as Ny,j0 as Iy,j1 as Ly,j2 as Ey,j3 as Oy,j4 as Dy,gF as qy,j5 as Py,j6 as Uy,j7 as zy,j8 as Wy,fv as By,j9 as Vy,g0 as Hy,ja as Zy,jb as Gy,jc as Ky,jd as Yy,je as Jy,g as Xy,c6 as Qy,jf as fo,jg as Hl,jh as Zl,ji as Gl,jj as ev,jk as tv,jl as nv,jm as rv,jn as av,jo as iv,jp as Kl,jq as Yl,jr as Jl,js as ov,cz as sv,jt as uv,ju as lv,jv as cv,gt as dv,jw as fv,jx as pv,jy as mv,hw as hv,ip as gv,jz as bv,jA as yv,jB as vv,jC as xv,hh as _v,jD as Cv,jE as jv,jF as wv,h2 as Tv,h4 as Mv,jG as kv,jH as Fv,jI as Av,gC as Xl,jJ as Rv,jK as $v,bC as Sv,jL as Nv,jM as Iv,jN as Lv,jO as Ev,jP as Ov,jQ as Dv,jR as qv,jS as Pv,jT as Uv,jU as zv,jV as Wv,jW as Bv,jX as Vv,jY as Hv,cd as Zv,jZ as Gv,j_ as Kv,j$ as Yv,E as Jv,k0 as Xv,k1 as Qv,k2 as ex,k3 as tx,k4 as nx,k5 as rx,k6 as ax,k7 as ix,k8 as ox,k9 as sx,ka as ux,kb as lx,kc as cx,fu as dx,kd as fx,ke as px,kf as mx,kg as hx,c as gx,aZ as Ql,bc as bx,kh as ec,i2 as Oa,gH as yx,b7 as tc,gd as vx,gG as xx,ki as _x,c5 as Cx,gB as jx,kj as qe,kk as wx,kl as Tx,f1 as Mx,km as kx,kn as Fx,ko as nc,bz as rc,hC as Ax,h_ as Rx,kp as $x,kq as Sx,kr as Nx,ks as Ix,hu as Eo,N as Lx,O as Ex,kt as ac,ku as Ox,kv as ic,kw as Dx,hW as qx,hX as Px,hY as Ux,kx as zx,ky as Sr,kz as Wx,br as Pt,aR as Lr,aF as we,aG as $e,kA as po,aE as Fe,g1 as Bx,aP as ml,kB as Nr,kC as oc,kD as Vx,kE as Hx,ak as Zx,c1 as Gx,bb as Kx,c0 as Yx,hK as Jx,P as mo,kF as Xx,kG as Qx,B as e0,R as t0,Q as Ia,_ as n0}from"./strapi-C9nOTXTf.js";import{g as r0}from"./groupBy-CKaPrpuM.js";import{s as a0}from"./sortBy-wJ8cSCBY.js";import{f as i0}from"./index-dW734B2A.js";import{_ as o0}from"./_arrayIncludesWith-BNzMLSv9.js";const C=a=>`${vn}.${a}`,sc=K.createContext(),Gt=()=>K.useContext(sc),hl=({status:a})=>{switch(a){case"UNCHANGED":return null;case"CHANGED":return u.jsx(ye,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return u.jsx(ye,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return u.jsx(ye,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},tC=({status:a})=>{switch(a){case"CHANGED":return u.jsx(Sa,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return u.jsx(Sa,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return u.jsx(Sa,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return u.jsx(Sa,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},uc=K.createContext(),ir=()=>K.useContext(uc),s0=()=>{const{componentsGroupedByCategory:a,isInDevelopmentMode:s,sortedContentTypesList:l}=Gt(),{trackUsage:p}=Pa(),[d,v]=K.useState(""),{onOpenModalCreateSchema:h}=ir(),{locale:b}=me(),{startsWith:x}=Wb(b,{sensitivity:"base"}),j=Bb(b,{sensitivity:"base"}),w=()=>{p("willCreateContentType"),h({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},R=()=>{p("willCreateSingleType"),h({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},q=()=>{p("willCreateComponent"),h({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},O=Object.entries(a).map(([S,I])=>({name:S,title:On(S),links:I.map(L=>({name:L.uid,to:`/plugins/${vn}/component-categories/${S}/${L.uid}`,title:L.info.displayName,status:L.status})).sort((L,F)=>j.compare(L.title,F.title))})).sort((S,I)=>j.compare(S.title,I.title)),A=l.filter(S=>S.visible).map(S=>({kind:S.kind,name:S.name,to:S.to,title:S.title,status:S.status}));return{menu:[{name:"models",title:{id:`${C("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:s?{id:`${C("button.model.create")}`,defaultMessage:"Create new collection type",onClick:w}:void 0,links:A.filter(S=>S.kind==="collectionType")},{name:"singleTypes",title:{id:`${C("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:s?{id:`${C("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:R}:void 0,links:A.filter(S=>S.kind==="singleType")},{name:"components",title:{id:`${C("menu.section.components.name")}`,defaultMessage:"Components"},customLink:s?{id:`${C("button.component.create")}`,defaultMessage:"Create a new component",onClick:q}:void 0,links:O}].map(S=>{if(S.links.some(F=>"links"in F&&Array.isArray(F.links))){let F=0;return{...S,links:S.links.reduce((X,ee)=>{const ve="links"in ee?ee.links.filter(Me=>x(Me.title,d)):[];return ve.length===0||(F+=ve.length,X.push({...ee,links:ve.sort((Me,Pe)=>j.compare(Me.title,Pe.title))})),X},[]),linksCount:F}}const L=S.links.filter(F=>x(F.title,d)).sort((F,X)=>j.compare(F.title,X.title));return{...S,links:L,linksCount:L.length}}),search:{value:d,onChange:v,clear:()=>v("")}}},u0=St(Ao)`
  transform: scaleX(-1);
`,l0=St(Ut.Item)`
  color: ${({theme:a})=>a.colors.danger600};

  &:hover {
    background: ${({theme:a,disabled:s})=>!s&&a.colors.danger100};
  }
`,c0=()=>{const{menu:a,search:s}=s0(),{saveSchema:l,isModified:p,history:d,isInDevelopmentMode:v}=Gt(),{formatMessage:h}=me(),[b,x]=K.useState(!1),[j,w]=K.useState(!1);K.useEffect(()=>{if(!v)return;const S=I=>{(I.ctrlKey||I.metaKey)&&(I.key==="Enter"?p&&(I.preventDefault(),l()):I.key==="z"&&!I.shiftKey?(I.preventDefault(),d.undo()):(I.key==="y"||I.shiftKey&&I.key==="z"||I.key==="Z")&&(I.preventDefault(),d.redo()))};return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}});const R=()=>{w(!0)},q=()=>{x(!1),w(!1),d.discardAllChanges()},O=()=>{d.undo()},A=()=>{d.redo()},V=h({id:C("plugin.name"),defaultMessage:"Content-Type Builder"});return u.jsxs(In.Main,{"aria-label":V,children:[u.jsx(In.Header,{label:V}),u.jsx(Ua,{background:"neutral150"}),u.jsxs(ne,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[u.jsxs(ne,{gap:2,children:[u.jsx(ze,{flex:1,onClick:S=>{S.preventDefault(),l()},type:"submit",disabled:!p||!v,fullWidth:!0,size:"S",children:h({id:"global.save",defaultMessage:"Save"})}),u.jsxs(Ut.Root,{open:b,onOpenChange:x,children:[u.jsxs(Ut.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[u.jsx(Vb,{fill:"neutral500","aria-hidden":!0,focusable:!1}),u.jsx(El,{tag:"span",children:h({id:"global.more.actions",defaultMessage:"More actions"})})]}),u.jsxs(Ut.Content,{zIndex:1,children:[u.jsx(Ut.Item,{disabled:!d.canUndo||!v,onSelect:O,children:u.jsxs(ne,{gap:2,children:[u.jsx(u0,{fill:"neutral500"}),u.jsx(ye,{children:"Undo last change"})]})}),u.jsx(Ut.Item,{disabled:!d.canRedo||!v,onSelect:A,children:u.jsx(ye,{children:u.jsxs(ne,{gap:2,children:[u.jsx(Ao,{fill:"neutral500"}),u.jsx(ye,{children:"Redo last change"})]})})}),u.jsx(Ut.Separator,{}),u.jsx(l0,{disabled:!d.canDiscardAll||!v,onSelect:R,children:u.jsxs(ne,{gap:2,children:[u.jsx(ol,{}),u.jsx(ye,{children:"Discard all changes"})]})})]})]})]}),u.jsx(xn,{startAction:u.jsx(Ro,{fill:"neutral500"}),value:s.value,onChange:S=>s.onChange(S.target.value),"aria-label":"Search",placeholder:h({id:C("search.placeholder"),defaultMessage:"Search"}),endAction:u.jsx(Co,{onClick:S=>{S.stopPropagation(),S.preventDefault(),s.onChange("")},label:"clear",variant:"ghost",type:"button",style:{padding:0},children:u.jsx(ol,{})}),size:"S"})]}),u.jsx(In.Sections,{children:a.map(S=>u.jsx(K.Fragment,{children:u.jsx(In.Section,{label:h({id:S.title.id,defaultMessage:S.title.defaultMessage}),link:S.customLink&&{label:h({id:S.customLink?.id,defaultMessage:S.customLink?.defaultMessage}),onClik:S.customLink?.onClick},children:S.links.map(I=>{const L=h({id:I.name,defaultMessage:I.title});return"links"in I?u.jsx(In.SubSection,{label:I.title,children:I.links.map(F=>{const X=h({id:F.name,defaultMessage:F.title});return u.jsx(In.Link,{to:F.to,label:X,endAction:u.jsx(Te,{tag:"span",textAlign:"center",width:"24px",children:u.jsx(hl,{status:F.status})})},F.name)})},I.name):u.jsx(In.Link,{to:I.to,label:L,endAction:u.jsx(Te,{tag:"span",textAlign:"center",width:"24px",children:u.jsx(hl,{status:I.status})})},I.name)})})},S.name))}),u.jsx($o.Root,{open:j,onOpenChange:w,children:u.jsx(So,{onConfirm:q,children:h({id:C("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},d0="timeout",f0=30*1e3,p0=()=>{const{get:a}=Ol(),s=async l=>{const p=l??Date.now();if(Date.now()-p>f0)throw new Error(d0);try{if((await a("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(v=>{setTimeout(()=>s(p).then(v),200)})}catch{return new Promise(v=>{setTimeout(()=>s(p).then(v),200)})}};return s},m0=a=>a0(Object.keys(a).map(s=>({visible:a[s].visible,name:s,title:a[s].info.displayName,plugin:a[s].plugin,uid:s,to:`/plugins/${vn}/content-types/${s}`,kind:a[s].kind,restrictRelationsTo:a[s].restrictRelationsTo,status:a[s].status})).filter(s=>s!==null),s=>Hb(s.title)),h0=a=>{const{components:s,contentTypes:l}=a;return{components:Object.values(s).filter(p=>["NEW","CHANGED","REMOVED"].includes(p.status)).map(gl),contentTypes:Object.values(l).filter(p=>["NEW","CHANGED","REMOVED"].includes(p.status)).map(gl)}},g0=a=>Object.fromEntries(Object.entries(a).filter(([s,l])=>Array.isArray(l)?l.length>0:typeof l=="object"&&l!==null?Object.keys(l).length>0:l!=null)),b0=a=>"customField"in a?{...a,type:"customField"}:"targetAttribute"in a?{...a,targetAttribute:a.targetAttribute==="-"?null:a.targetAttribute}:a,gl=a=>{let s;switch(a.status){case"NEW":s="create";break;case"CHANGED":s="update";break;case"REMOVED":return{action:"delete",uid:a.uid};default:throw new Error("Invalid status")}return{action:s,uid:a.uid,category:"category"in a?a.category:void 0,...sl(a,["info","options","visible","uid","restrictRelationsTo"]),...a.options,...a.info,attributes:a.attributes.map(l=>{let p;switch(l.status){case"NEW":p="create";break;case"REMOVED":return{action:"delete",name:l.name};case"UNCHANGED":case"CHANGED":default:p="update"}return{action:p,name:l.name,properties:g0(sl(b0(l),["status","name"]))}})}},y0=a=>Object.keys(a).reduce((l,p)=>{const d=Ie(a,[p]),v=v0(d);return v.childComponents.length>0&&l.push(v),l},[]),v0=a=>({component:a.uid,childComponents:a.attributes.filter(s=>{const{type:l}=s;return l==="component"}).map(s=>({component:s.component}))}),x0=a=>{const s=Object.keys(a).reduce((l,p)=>{const d=a?.[p]?.attributes??[],v=_0(d,p);return[...l,...v]},[]);return C0(s)},_0=(a,s)=>a.reduce((l,p)=>{const{type:d}=p;return d==="component"&&l.push({component:p.component,parentCompoUid:s}),l},[]),C0=a=>{const s=new Map;return a.forEach(({component:p,parentCompoUid:d})=>{s.has(p)||s.set(p,new Set),s.get(p).add(d)}),Array.from(s.entries()).map(([p,d])=>({component:p,uidsOfAllParents:Array.from(d)}))},j0=(a,s)=>{const l=Object.keys(a).map(p=>Ie(a,[p,...s],""));return Zb(l)},w0=a=>a["content-type-builder_dataManagerProvider"]||Gb,T0=({children:a})=>{const s=za(),l=Dl(w0),{components:p,contentTypes:d,reservedNames:v,initialComponents:h,initialContentTypes:b,isLoading:x}=l.current,{toggleNotification:j}=No(),{lockAppWithAutoreload:w,unlockAppWithAutoreload:R}=Kb(),{setCurrentStep:q,setStepState:O}=ql("DataManagerProvider",z=>z),A=p0(),S=Ir("DataManagerProvider",z=>z.getPlugin)("content-type-builder"),I=Pl("DataManagerProvider",z=>z.autoReload),{formatMessage:L}=me(),{trackUsage:F}=Pa(),X=Yb("DataManagerProvider",z=>z.refetchPermissions),{onCloseModal:ee}=ir(),[ve,Me]=K.useState(!1),Pe=K.useMemo(()=>!(Ea(p,h)&&Ea(d,b)),[p,d,h,b]),xe=Ol(),Je=I,tt=K.useRef();tt.current=async()=>{try{const[z,ke]=await Promise.all([xe.get("/content-type-builder/schema"),xe.get("/content-type-builder/reserved-names")]),{components:Nt,contentTypes:It}=z.data.data;s(Re.init({components:ul(Nt,ht=>({...ht,status:"UNCHANGED"})),contentTypes:ul(It,ht=>({...ht,status:"UNCHANGED"})),reservedNames:ke.data})),s(Re.clearHistory())}catch(z){console.error({err:z}),j({type:"danger",message:L({id:"notification.error",defaultMessage:"An error occurred"})})}},K.useEffect(()=>(tt.current(),()=>{s(Re.reloadPlugin())}),[]),K.useEffect(()=>{I||j({type:"info",message:L({id:C("notification.info.autoreaload-disable")})})},[I,j,L]);const fe=z=>y0(z),W=z=>x0(z),Ve=async()=>{await X()},Le=async()=>{Me(!0);const z=S?.apis?.forms,ke=Object.entries(l.current.contentTypes).reduce((Kt,[gt,sn])=>(Kt[gt]=z.mutateContentTypeSchema(sn,b[gt]),Kt),{}),Nt=h0({components:l.current.components,contentTypes:ke}),It=Object.keys(l.current.contentTypes).length>0,ht=Object.keys(l.current.components).length>0;It&&F("willSaveContentType"),ht&&F("willSaveComponent"),w();try{await xe.post("/content-type-builder/update-schema",{data:Nt}),It&&(O("contentTypeBuilder.success",!0),F("didCreateGuidedTourCollectionType"),q(null)),It&&F("didSaveContentType"),ht&&F("didSaveComponent"),await A(),await tt.current(),await Ve()}catch(Kt){ht&&F("didNotSaveComponent"),console.error({err:Kt}),j({type:"danger",message:L({id:"notification.error",defaultMessage:"An error occurred"})})}finally{Me(!0),R()}},Z=K.useMemo(()=>fe(p),[p]),ce=K.useMemo(()=>W(p),[p]),zt=K.useMemo(()=>j0(p,["category"]),[p]),vt=K.useMemo(()=>r0(p,"category"),[p]),mt=K.useMemo(()=>m0(d),[d]),or={componentsThatHaveOtherComponentInTheirAttributes:Z,nestedComponents:ce,saveSchema:Le,reservedNames:v,components:p,contentTypes:d,initialComponents:h,initialContentTypes:b,isSaving:ve,isModified:Pe,isInDevelopmentMode:Je,allComponentsCategories:zt,componentsGroupedByCategory:vt,sortedContentTypesList:mt,isLoading:x,addAttribute(z){s(Re.addAttribute(z))},editAttribute(z){s(Re.editAttribute(z))},addCustomFieldAttribute(z){s(Re.addCustomFieldAttribute(z))},editCustomFieldAttribute(z){s(Re.editCustomFieldAttribute(z))},addCreatedComponentToDynamicZone(z){s(Re.addCreatedComponentToDynamicZone(z))},createSchema(z){s(Re.createSchema(z))},createComponentSchema({data:z,uid:ke,componentCategory:Nt}){s(Re.createComponentSchema({data:z,uid:ke,componentCategory:Nt}))},changeDynamicZoneComponents({forTarget:z,targetUid:ke,dynamicZoneTarget:Nt,newComponents:It}){s(Re.changeDynamicZoneComponents({forTarget:z,targetUid:ke,dynamicZoneTarget:Nt,newComponents:It}))},removeAttribute(z){z.forTarget==="contentType"&&F("willDeleteFieldOfContentType"),s(Re.removeField(z))},removeComponentFromDynamicZone(z){s(Re.removeComponentFromDynamicZone(z))},deleteComponent(z){window.confirm(L({id:C("popUpWarning.bodyMessage.component.delete")}))&&(ee(),s(Re.deleteComponent(z)))},deleteContentType(z){window.confirm(L({id:C("popUpWarning.bodyMessage.contentType.delete")}))&&(ee(),s(Re.deleteContentType(z)))},updateComponentSchema({data:z,componentUID:ke}){s(Re.updateComponentSchema({data:z,uid:ke}))},updateComponentUid({componentUID:z,newComponentUID:ke}){s(Re.updateComponentUid({uid:z,newComponentUID:ke}))},updateSchema(z){s(Re.updateSchema(z))},moveAttribute(z){s(Re.moveAttribute(z))},applyChange(z){s(Re.applyChange(z))},history:{undo(){s(Re.undo())},redo(){s(Re.redo())},discardAllChanges(){s(Re.discardAll())},canUndo:l.past.length>0,canRedo:l.future.length>0,canDiscardAll:Pe}};return u.jsx(sc.Provider,{value:or,children:a})},M0=()=>{const{formatMessage:a}=me(),{isModified:s,isSaving:l}=Gt(),p=a({id:C("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),d=Jb(v=>v.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!v.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&s);return K.useEffect(()=>{const v=h=>{s&&!l&&(h.preventDefault(),h.returnValue="")};return window.addEventListener("beforeunload",v),()=>window.removeEventListener("beforeunload",v)},[p,s,l]),d.state==="blocked"?u.jsx($o.Root,{open:!0,onOpenChange:()=>d.reset(),children:u.jsx(So,{onConfirm:()=>d.proceed(),children:p})}):null},lc=a=>a.kind==="collectionType"&&(a.restrictRelationsTo===null||Array.isArray(a.restrictRelationsTo)&&a.restrictRelationsTo.length>0),jo=(a,s)=>a.find(({name:l})=>l===s),k0=(a,s)=>!a||!s?{}:{[a]:s[a]},F0=a=>(a?.inner||[]).reduce((s,l)=>(l.path&&(s[l.path.split("[").join(".").split("]").join("")]={id:l.message,defaultMessage:l.message,values:k0(l?.type,l?.params)}),s),{}),A0=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],R0=({intlLabel:a,name:s,onChange:l,value:p=null})=>{const{formatMessage:d}=me(),v=p===null||p?.length===0?d({id:"global.none",defaultMessage:"None"}):[...p].sort().map(b=>On(b)).join(", "),h=a.id?d({id:a.id,defaultMessage:a.defaultMessage}):s;return u.jsxs(ie.Root,{name:s,children:[u.jsx(ie.Label,{children:h}),u.jsx(Ul,{customizeContent:()=>v,onChange:b=>{b.length>0?l({target:{name:s,value:b,type:"allowed-types-select"}}):l({target:{name:s,value:null,type:"allowed-types-select"}})},options:A0,value:p||[]})]})},bl={biginteger:$r,blocks:sy,boolean:oy,collectionType:fl,component:iy,contentType:fl,date:Na,datetime:Na,decimal:$r,dynamiczone:ay,email:ry,enum:dl,enumeration:dl,file:co,files:co,float:$r,integer:$r,json:cl,JSON:cl,media:co,number:$r,password:ny,relation:ty,richtext:ey,singleType:Qb,string:ll,text:ll,time:Na,timestamp:Na,uid:Xb},$0=St(Te)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Da=({type:a,customField:s=null,...l})=>{const p=Ir("AttributeIcon",v=>v.customFields.get);let d=bl[a];if(s){const h=p(s)?.icon;h&&(d=h)}return bl[a]?u.jsx($0,{width:"3.2rem",height:"3.2rem",shrink:0,...l,"aria-hidden":!0,children:u.jsx(Te,{tag:d})}):null},cc=St(Te)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:a})=>a.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:a})=>a.colors.primary100};
    border: 1px solid ${({theme:a})=>a.colors.primary200};
  }
`,S0=[],N0=()=>u.jsx(ne,{grow:1,justifyContent:"flex-end",children:u.jsxs(ne,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[u.jsx(uy,{width:"1rem",height:"1rem",fill:"alternative600"}),u.jsx(ye,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),I0=({type:a="text"})=>{const{formatMessage:s}=me(),{onClickSelectField:l}=ir(),p=()=>{l({attributeType:a,step:a==="component"?"1":null})};return u.jsx(cc,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:p,children:u.jsxs(ne,{children:[u.jsx(Da,{type:a}),u.jsxs(Te,{paddingLeft:4,width:"100%",children:[u.jsxs(ne,{justifyContent:"space-between",children:[u.jsx(ye,{fontWeight:"bold",textColor:"neutral800",children:s({id:C(`attribute.${a}`),defaultMessage:a})}),S0.includes(a)&&u.jsx(N0,{})]}),u.jsx(ne,{children:u.jsx(ye,{variant:"pi",textColor:"neutral600",children:s({id:C(`attribute.${a}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},L0=({attributes:a})=>u.jsx(Io,{tagName:"button",children:u.jsx(ne,{direction:"column",alignItems:"stretch",gap:8,children:a.map((s,l)=>u.jsx(Dn.Root,{gap:3,children:s.map(p=>u.jsx(Dn.Item,{col:6,direction:"column",alignItems:"stretch",children:u.jsx(I0,{type:p})},p))},l))})}),E0=({customFieldUid:a,customField:s})=>{const{type:l,intlLabel:p,intlDescription:d}=s,{formatMessage:v}=me(),{onClickSelectCustomField:h}=ir(),b=()=>{h({attributeType:l,customFieldUid:a})};return u.jsx(cc,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:b,children:u.jsxs(ne,{children:[u.jsx(Da,{type:l,customField:a}),u.jsxs(Te,{paddingLeft:4,children:[u.jsx(ne,{children:u.jsx(ye,{fontWeight:"bold",textColor:"neutral800",children:v(p)})}),u.jsx(ne,{children:u.jsx(ye,{variant:"pi",textColor:"neutral600",children:v(d)})})]})]})})},O0=St(Te)`
  background: ${({theme:a})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${a.colors.neutral150} 100%)`};
  opacity: 0.33;
`,D0=()=>u.jsx(ne,{wrap:"wrap",gap:4,children:[...Array(4)].map((a,s)=>u.jsx(O0,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${s}`))}),q0=()=>{const{formatMessage:a}=me();return u.jsxs(Te,{position:"relative",children:[u.jsx(D0,{}),u.jsx(Te,{position:"absolute",top:6,width:"100%",children:u.jsxs(ne,{alignItems:"center",justifyContent:"center",direction:"column",children:[u.jsx(ly,{width:"160px",height:"88px"}),u.jsx(Te,{paddingTop:6,paddingBottom:4,children:u.jsxs(Te,{textAlign:"center",children:[u.jsx(ye,{variant:"delta",tag:"p",textColor:"neutral600",children:a({id:C("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),u.jsx(Te,{paddingTop:4,children:u.jsx(ye,{variant:"delta",tag:"p",textColor:"neutral600",children:a({id:C("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),u.jsx(cy,{tag:fy,to:`/marketplace?${dy.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:u.jsx(En,{}),children:a({id:C("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},P0=()=>{const{formatMessage:a}=me(),s=Ir("CustomFieldsList",d=>d.customFields.getAll),l=Object.entries(s());if(!l.length)return u.jsx(q0,{});const p=l.sort((d,v)=>d[1].name>v[1].name?1:-1);return u.jsx(Io,{tagName:"button",children:u.jsxs(ne,{direction:"column",alignItems:"stretch",gap:3,children:[u.jsx(Dn.Root,{gap:3,children:p.map(([d,v])=>u.jsx(Dn.Item,{col:6,direction:"column",alignItems:"stretch",children:u.jsx(E0,{customFieldUid:d,customField:v},d)},d))}),u.jsx(zl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:a({id:C("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},U0=({attributes:a,forTarget:s,kind:l})=>{const{formatMessage:p}=me(),d=C("modalForm.tabs.default"),v=C("modalForm.tabs.custom"),h=s.includes("component")?"component":l,b=C(`modalForm.sub-header.chooseAttribute.${h}`);return u.jsx(_n.Body,{children:u.jsxs($t.Root,{variant:"simple",defaultValue:"default",children:[u.jsxs(ne,{justifyContent:"space-between",children:[u.jsx(ye,{variant:"beta",tag:"h2",children:p({id:b,defaultMessage:"Select a field"})}),u.jsxs($t.List,{children:[u.jsx($t.Trigger,{value:"default",children:p({id:d,defaultMessage:"Default"})}),u.jsx($t.Trigger,{value:"custom",children:p({id:v,defaultMessage:"Custom"})})]})]}),u.jsx(Ua,{marginBottom:6}),u.jsx($t.Content,{value:"default",children:u.jsx(L0,{attributes:a})}),u.jsx($t.Content,{value:"custom",children:u.jsx(P0,{})})]})})},z0=({intlLabel:a,name:s,options:l,onChange:p,value:d=null})=>{const{formatMessage:v}=me(),h=a.id?v({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):s,b=x=>{let j="";x==="true"&&(j=!0),x==="false"&&(j=!1),p({target:{name:s,value:j,type:"select-default-boolean"}})};return u.jsxs(ie.Root,{name:s,children:[u.jsx(ie.Label,{children:h}),u.jsx(Er,{onChange:b,value:(d===null?"":d).toString(),children:l.map(({metadatas:{intlLabel:x,disabled:j,hidden:w},key:R,value:q})=>u.jsx(Or,{value:q,disabled:j,hidden:w,children:x.defaultMessage},R))})]})},W0=St(ne)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    border-radius: 4px;
    border: 1px solid ${({theme:a})=>a.colors.neutral200};

    ${Wl()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    will-change: transform, opacity;
    background: ${({theme:a})=>a.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:a})=>a.colors.neutral0};
      width: ${({theme:a})=>a.spaces[5]};
      height: ${({theme:a})=>a.spaces[5]};
      border: solid 1px ${({theme:a})=>a.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:a})=>a.spaces[3]};
        height: ${({theme:a})=>a.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:a})=>a.colors.primary100};
    color: ${({theme:a})=>a.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:a})=>a.colors.primary600};
      &::after {
        background: ${({theme:a})=>a.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Oo=({intlLabel:a,name:s,onChange:l,radios:p=[],value:d})=>{const{formatMessage:v}=me();return u.jsxs(ne,{direction:"column",alignItems:"stretch",gap:2,children:[u.jsx(ye,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:s,tag:"label",children:v(a)}),u.jsx(W0,{gap:4,alignItems:"stretch",children:p.map(h=>u.jsxs("label",{htmlFor:h.value.toString(),className:"container",children:[u.jsx("input",{id:h.value.toString(),name:s,className:"option-input",checked:h.value===d,value:h.value,onChange:l,type:"radio"},h.value),u.jsx(Te,{className:"option",padding:4,children:u.jsxs(ne,{children:[u.jsx(Te,{paddingRight:4,children:u.jsx("span",{className:"checkmark"})}),u.jsxs(ne,{direction:"column",alignItems:"stretch",gap:2,children:[u.jsx(ye,{fontWeight:"bold",children:v(h.title)}),u.jsx(ye,{variant:"pi",textColor:"neutral600",children:v(h.description)})]})]})})]},h.value))})]})},B0=({onChange:a,name:s,intlLabel:l,...p})=>{const d=v=>{const h=v.target.value!=="false";a({target:{name:s,value:h,type:"boolean-radio-group"}})};return u.jsx(Oo,{...p,name:s,onChange:d,intlLabel:l})},V0=({error:a,intlLabel:s,modifiedData:l,name:p,onChange:d,value:v=null})=>{const{formatMessage:h}=me(),b=s.id?h({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):p,x=l.type==="biginteger"?"text":"number",j=!l.type,w=a?h({id:a,defaultMessage:a}):"";return u.jsxs(ne,{direction:"column",alignItems:"stretch",gap:2,children:[u.jsx(Lo,{id:p,name:p,onCheckedChange:R=>{d({target:{name:p,value:R?x==="text"?"0":0:null}})},checked:v!==null,children:b}),v!==null&&u.jsx(Te,{paddingLeft:6,style:{maxWidth:"200px"},children:x==="text"?u.jsxs(ie.Root,{error:w,name:p,children:[u.jsx(xn,{"aria-label":b,disabled:j,onChange:d,value:v===null?"":v}),u.jsx(ie.Error,{})]}):u.jsxs(ie.Root,{error:w,name:p,children:[u.jsx(Bl,{"aria-label":b,disabled:j,onValueChange:R=>{d({target:{name:p,value:R??0,type:x}})},value:v||0}),u.jsx(ie.Error,{})]})})]})},H0=({onChange:a,...s})=>{const{formatMessage:l}=me(),{toggleNotification:p}=No(),d=v=>{p({type:"info",message:l({id:C("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),a(v)};return u.jsx(Oo,{...s,onChange:d})},Z0=({description:a,disabled:s=!1,intlLabel:l,isCreating:p,name:d,onChange:v,value:h=!1})=>{const{formatMessage:b}=me(),[x,j]=K.useState(!1),w=l.id?b({id:l.id,defaultMessage:l.defaultMessage},{...l.values}):d,R=a?b({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",q=()=>{v({target:{name:d,value:!1}}),j(!1)},O=A=>{if(!A&&!p){j(!0);return}v({target:{name:d,value:!!A}})};return u.jsxs(u.Fragment,{children:[u.jsxs(ie.Root,{hint:R,name:d,children:[u.jsx(Lo,{checked:h,disabled:s,onCheckedChange:O,children:w}),u.jsx(ie.Hint,{})]}),u.jsx($o.Root,{open:x,onOpenChange:A=>j(A),children:u.jsx(So,{endAction:u.jsx(ze,{onClick:q,variant:"danger",width:"100%",justifyContent:"center",children:b({id:C("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:b({id:C("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},G0=({deleteComponent:a,deleteContentType:s,isAttributeModal:l,isCustomFieldModal:p,isComponentAttribute:d,isComponentToDzModal:v,isContentTypeModal:h,isCreatingComponent:b,isCreatingComponentAttribute:x,isCreatingComponentInDz:j,isCreatingComponentWhileAddingAField:w,isCreatingContentType:R,isCreatingDz:q,isComponentModal:O,isDzAttribute:A,isEditingAttribute:V,isInFirstComponentStep:S,onSubmitAddComponentAttribute:I,onSubmitAddComponentToDz:L,onSubmitCreateContentType:F,onSubmitCreateComponent:X,onSubmitCreateDz:ee,onSubmitEditAttribute:ve,onSubmitEditComponent:Me,onSubmitEditContentType:Pe,onSubmitEditCustomFieldAttribute:xe,onSubmitEditDz:Je,onClickFinish:tt})=>{const{formatMessage:fe}=me();return v?j?u.jsx(ze,{variant:"secondary",type:"submit",onClick:W=>{W.preventDefault(),L(W,!0)},startIcon:u.jsx(En,{}),children:fe({id:C("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):u.jsx(ze,{variant:"default",type:"submit",onClick:W=>{W.preventDefault(),L(W,!1)},children:fe({id:"global.finish",defaultMessage:"Finish"})}):l&&A&&!q?u.jsx(ze,{variant:"default",type:"submit",onClick:W=>{W.preventDefault(),tt(),Je(W,!1)},children:fe({id:"global.finish",defaultMessage:"Finish"})}):l&&A&&q?u.jsx(u.Fragment,{children:u.jsx(ze,{variant:"secondary",type:"submit",onClick:W=>{W.preventDefault(),ee(W,!0)},startIcon:u.jsx(En,{}),children:fe({id:C("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):l&&d?S?u.jsx(ze,{variant:"secondary",type:"submit",onClick:W=>{W.preventDefault(),I(W,!0)},children:fe(x?{id:C("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:C("form.button.select-component"),defaultMessage:"Configure the component"})}):u.jsxs(ne,{gap:2,children:[u.jsx(ze,{variant:"secondary",type:"submit",onClick:W=>{W.preventDefault(),I(W,!0)},startIcon:u.jsx(En,{}),children:fe(w?{id:C("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:C("form.button.add-field"),defaultMessage:"Add another field"})}),u.jsx(ze,{variant:"default",type:"button",onClick:W=>{W.preventDefault(),tt(),I(W,!1)},children:fe({id:"global.finish",defaultMessage:"Finish"})})]}):l&&!d&&!A?u.jsxs(ne,{gap:2,children:[u.jsx(ze,{type:V?"button":"submit",variant:"secondary",onClick:W=>{W.preventDefault(),ve(W,!0)},startIcon:u.jsx(En,{}),children:fe({id:C("form.button.add-field"),defaultMessage:"Add another field"})}),u.jsx(ze,{type:V?"submit":"button",variant:"default",onClick:W=>{W.preventDefault(),tt(),ve(W,!1)},children:fe({id:"global.finish",defaultMessage:"Finish"})})]}):h?u.jsxs(ne,{gap:2,children:[!R&&u.jsxs(u.Fragment,{children:[u.jsx(ze,{type:"button",variant:"danger",onClick:W=>{W.preventDefault(),s()},children:fe({id:"global.delete",defaultMessage:"Delete"})}),u.jsx(ze,{type:"submit",variant:"default",onClick:W=>{W.preventDefault(),Pe(W,!1)},children:fe({id:"global.finish",defaultMessage:"Finish"})})]}),R&&u.jsx(ze,{type:"submit",variant:"secondary",onClick:W=>{W.preventDefault(),F(W,!0)},children:fe({id:"global.continue",defaultMessage:"Continue"})})]}):O?u.jsxs(ne,{gap:2,children:[!b&&u.jsxs(u.Fragment,{children:[u.jsx(ze,{type:"button",variant:"danger",onClick:W=>{W.preventDefault(),a()},children:fe({id:"global.delete",defaultMessage:"Delete"})}),u.jsx(ze,{type:"submit",variant:"default",onClick:W=>{W.preventDefault(),Me(W,!1)},children:fe({id:"global.finish",defaultMessage:"Finish"})})]}),b&&u.jsx(ze,{type:"submit",variant:"secondary",onClick:W=>{W.preventDefault(),X(W,!0)},children:fe({id:"global.continue",defaultMessage:"Continue"})})]}):p?u.jsxs(ne,{gap:2,children:[u.jsx(ze,{type:V?"button":"submit",variant:"secondary",onClick:W=>{W.preventDefault(),xe(W,!0)},startIcon:u.jsx(En,{}),children:fe({id:C("form.button.add-field"),defaultMessage:"Add another field"})}),u.jsx(ze,{type:V?"submit":"button",variant:"default",onClick:W=>{W.preventDefault(),tt(),xe(W,!1)},children:fe({id:"global.finish",defaultMessage:"Finish"})})]}):null},K0=({actionType:a=null,attributeName:s,attributeType:l,contentTypeKind:p,dynamicZoneTarget:d,forTarget:v,modalType:h=null,targetUid:b,customFieldUid:x=null,showBackLink:j=!1})=>{const{formatMessage:w}=me(),{components:R,contentTypes:q}=Gt(),{onOpenModalAddField:O}=ir();let A="component",V=[];const S=v==="component"?R[b]:q[b],I=S?.info.displayName;if(h==="contentType"&&(A=p),["component"].includes(h||"")&&(A="component"),["component","contentType"].includes(h||"")){let F=C(`modalForm.component.header-${a}`);return h==="contentType"&&(F=C(`modalForm.${p}.header-create`)),a==="edit"&&(F=C("modalForm.header-edit")),u.jsx(_n.Header,{children:u.jsxs(ne,{children:[u.jsx(Te,{children:u.jsx(Da,{type:A})}),u.jsx(Te,{paddingLeft:3,children:u.jsx(_n.Title,{children:w({id:F},{name:I})})})]})})}return V=[{label:I,info:{category:"category"in S&&S?.category||"",name:S?.info?.displayName}}],h==="chooseAttribute"&&(A=v==="component"?"component":"kind"in S?S.kind:""),h==="addComponentToDynamicZone"&&(A="dynamiczone",V.push({label:d})),(h==="attribute"||h==="customField")&&(A=l,V.push({label:s})),u.jsx(_n.Header,{children:u.jsxs(ne,{gap:3,children:[j&&u.jsx(zl,{"aria-label":w({id:C("modalForm.header.back"),defaultMessage:"Back"}),startIcon:u.jsx(Vl,{}),onClick:()=>O({forTarget:v,targetUid:b}),href:"#back",isExternal:!1}),u.jsx(Da,{type:A,customField:x}),u.jsx(py,{label:V.map(({label:F})=>F).join(","),children:V.map(({label:F,info:X},ee,ve)=>{if(F=On(F),!F)return null;const Me=`${F}.${ee}`;return X?.category&&(F=`${F} (${On(X.category)} - ${On(X.name)})`),u.jsx(my,{isCurrent:ee===ve.length-1,children:F},Me)})})]})})},Y0=({modalType:a,forTarget:s,kind:l,actionType:p,step:d})=>{switch(a){case"chooseAttribute":return C(`modalForm.sub-header.chooseAttribute.${s?.includes("component")?"component":l||"collectionType"}`);case"attribute":return C(`modalForm.sub-header.attribute.${p}${d!=="null"&&d!==null&&p!=="edit"?".step":""}`);case"customField":return C(`modalForm.sub-header.attribute.${p}`);case"addComponentToDynamicZone":return C("modalForm.sub-header.addComponentToDynamicZone");default:return C("configurations")}},J0=({actionType:a,modalType:s,forTarget:l,kind:p,step:d,attributeType:v,attributeName:h,customField:b})=>{const{formatMessage:x}=me(),j=s==="customField"?b?.intlLabel:{id:C(`attribute.${v}`)};return u.jsxs(ne,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[u.jsx(ye,{tag:"h2",variant:"beta",children:x({id:Y0({actionType:a,forTarget:l,kind:p,step:d,modalType:s}),defaultMessage:"Add new field"},{type:j?On(x(j)):"",name:On(h),step:d})}),u.jsx(ye,{variant:"pi",textColor:"neutral600",children:x({id:C(`attribute.${v}.description`),defaultMessage:"A type for modeling data"})})]})},dc={alien:hx,apps:mx,archive:px,arrowDown:fx,arrowLeft:Vl,arrowRight:dx,arrowUp:cx,attachment:lx,bell:ux,bold:sx,book:ox,briefcase:ix,brush:fo,bulletList:ax,calendar:rx,car:nx,cast:tx,chartBubble:ex,chartCircle:Qv,chartPie:Xv,check:Jv,clock:Yv,cloud:Kv,code:Gv,cog:Zv,collapse:Hv,command:Vv,connector:Bv,crop:Wv,crown:zv,cup:Uv,cursor:Pv,dashboard:qv,database:Dv,discuss:Ov,doctor:Ev,earth:Lv,emotionHappy:Iv,emotionUnhappy:Nv,envelop:Sv,exit:$v,expand:Rv,eye:Xl,feather:pl,file:Av,fileError:Fv,filePdf:kv,filter:Mv,folder:Tv,gate:wv,gift:jv,globe:Cv,grid:_v,handHeart:xv,hashtag:vv,headphone:yv,heart:bv,house:gv,information:hv,italic:mv,key:pv,landscape:fv,layer:dv,layout:cv,lightbulb:lv,link:uv,lock:sv,magic:ov,manyToMany:Jl,manyToOne:Yl,manyWays:Kl,medium:iv,message:av,microphone:rv,monitor:nv,moon:tv,music:ev,oneToMany:Gl,oneToOne:Zl,oneWay:Hl,paint:fo,paintBrush:fo,paperPlane:Qy,pencil:Xy,phone:Jy,picture:Yy,pin:Ky,pinMap:Gy,plane:Zy,play:Hy,plus:En,priceTag:Vy,puzzle:By,question:Wy,quote:zy,refresh:Ao,restaurant:Uy,rocket:Py,rotate:qy,scissors:Dy,search:Ro,seed:Oy,server:Ey,shield:Ly,shirt:Iy,shoppingCart:Ny,slideshow:Sy,stack:$y,star:Ry,store:Ay,strikeThrough:Fy,sun:ky,television:My,thumbDown:Ty,thumbUp:wy,train:jy,twitter:Cy,typhoon:_y,underline:xy,user:vy,volumeMute:yy,volumeUp:by,walk:gy,wheelchair:hy,write:pl},X0=St(ne)`
  label {
    ${Wl()}
    border-radius: ${({theme:a})=>a.borderRadius};
    border: 1px solid ${({theme:a})=>a.colors.neutral100};
  }
`,Q0=({iconKey:a,name:s,onChange:l,isSelected:p,ariaLabel:d})=>{const v=dc[a];return u.jsx(ie.Root,{name:s,required:!1,children:u.jsxs(ie.Label,{children:[u.jsxs(El,{children:[d,u.jsx(ie.Input,{type:"radio",checked:p,onChange:l,value:a,"aria-checked":p})]}),u.jsx(Ql,{label:a,children:u.jsx(ne,{padding:2,cursor:"pointer",hasRadius:!0,background:p?"primary200":void 0,children:u.jsx(v,{width:"2rem",height:"2rem",fill:p?"primary600":"neutral300"})})})]})})},e1=({intlLabel:a,name:s,onChange:l,value:p=""})=>{const{formatMessage:d}=me(),[v,h]=K.useState(!1),[b,x]=K.useState(""),j=Object.keys(dc),[w,R]=K.useState(j),q=K.useRef(null),O=K.useRef(null),A=()=>{h(!v)},V=({target:{value:L}})=>{x(L),R(()=>j.filter(F=>F.toLowerCase().includes(L.toLowerCase())))},S=()=>{A(),x(""),R(j)},I=()=>{l({target:{name:s,value:""}})};return K.useEffect(()=>{v&&O.current?.focus()},[v]),u.jsxs(u.Fragment,{children:[u.jsxs(ne,{justifyContent:"space-between",paddingBottom:2,children:[u.jsx(ye,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:d(a)}),u.jsxs(ne,{gap:1,children:[v?u.jsx(gx,{ref:O,name:"searchbar",placeholder:d({id:C("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{b||A()},onChange:V,value:b,onClear:S,clearLabel:d({id:C("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:d({id:C("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):u.jsx(Co,{ref:q,onClick:A,withTooltip:!1,label:d({id:C("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:u.jsx(Ro,{})}),p&&u.jsx(Ql,{label:d({id:C("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:u.jsx(Co,{onClick:I,withTooltip:!1,label:d({id:C("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:u.jsx(bx,{})})})]})]}),u.jsx(X0,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:w.length>0?w.map(L=>u.jsx(Q0,{iconKey:L,name:s,onChange:l,isSelected:L===p,ariaLabel:d({id:C("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:L})},L)):u.jsx(Te,{padding:4,grow:2,children:u.jsx(ye,{variant:"delta",textColor:"neutral600",textAlign:"center",children:d({id:C("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},t1=({description:a,error:s,intlLabel:l,modifiedData:p,name:d,onChange:v,value:h})=>{const{formatMessage:b}=me(),x=K.useRef(v),j=p?.displayName||"";K.useEffect(()=>{if(j){const O=ec(j);try{const A=Oa(O,2);x.current({target:{name:d,value:A}})}catch{x.current({target:{name:d,value:O}})}}else x.current({target:{name:d,value:""}})},[j,d]);const w=s?b({id:s,defaultMessage:s}):"",R=a?b({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",q=b(l);return u.jsxs(ie.Root,{error:w,hint:R,name:d,children:[u.jsx(ie.Label,{children:q}),u.jsx(xn,{onChange:v,value:h||""}),u.jsx(ie.Error,{})]})},yl=a=>{if(a instanceof Date&&vl(a))return a;if(typeof a=="string"||typeof a=="number"){const s=new Date(a);if(vl(s))return s}},vl=a=>!isNaN(a.getTime()),n1=a=>{const[s,l]=a.split(":");return`${s}:${l}`},r1=a=>a.split(":").length===2?`${a}:00.000`:a,a1=a=>{if(a)return a.split(":").length>2?n1(a):a},i1=a=>{if(a)return r1(a)},o1=({value:a})=>a1(a),xl=(a,s,l,p)=>{const d=i1(p);a({target:{name:s,value:d,type:l}})},s1=({autoComplete:a,customInputs:s,description:l,disabled:p,intlLabel:d,labelAction:v,error:h,name:b,onChange:x,options:j=[],placeholder:w,required:R,step:q,type:O,value:A,isNullable:V,autoFocus:S,attribute:I,...L})=>{const{formatMessage:F}=me(),X=(Z,ce)=>{if(Z&&(ce==="minLength"&&ce in Z||ce==="maxLength"&&ce in Z||ce==="max"&&ce in Z||ce==="min"&&ce in Z))return Z[ce]},{hint:ee}=u1({description:l,fieldSchema:{minLength:X(I,"minLength"),maxLength:X(I,"maxLength"),max:X(I,"max"),min:X(I,"min")},type:I?.type||O}),[ve,Me]=K.useState(!1),Pe=s?s[O]:null,xe=A??void 0,Je=xe??"";function tt(Z){if(!Z)return null;if(typeof Z=="string")return F({id:Z,defaultMessage:Z});const ce={...Z.values};return F({id:Z.id,defaultMessage:Z?.defaultMessage??Z.id},ce)}const fe=tt(h)??void 0;if(Pe)return u.jsx(Pe,{...L,attribute:I,description:l,hint:ee,disabled:p,intlLabel:d,labelAction:v,error:fe||"",name:b,onChange:x,options:j,required:R,placeholder:w,type:O,value:xe,autoFocus:S});const W=d.id?F({id:d.id,defaultMessage:d.defaultMessage},{...d.values}):b,Ve=w?F({id:w.id,defaultMessage:w.defaultMessage},{...w.values}):"",Le=()=>{switch(O){case"json":return u.jsx(jx,{value:xe,disabled:p,onChange:Z=>{const ce=I&&"required"in I&&!I?.required&&!Z.length?null:Z;x({target:{name:b,value:ce}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return u.jsx(Cx,{checked:A===null?null:A||!1,disabled:p,offLabel:F({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:F({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:Z=>{x({target:{name:b,value:Z.target.checked}})}});case"checkbox":return u.jsx(Lo,{disabled:p,onCheckedChange:Z=>{x({target:{name:b,value:Z}})},checked:!!xe,children:W});case"datetime":{const Z=yl(xe);return u.jsx(_x,{clearLabel:F({id:"clearLabel",defaultMessage:"Clear"}),disabled:p,onChange:ce=>{const zt=ce?ce.toISOString():null;x({target:{name:b,value:zt,type:O}})},onClear:()=>x({target:{name:b,value:null,type:O}}),placeholder:Ve,value:Z})}case"date":{const Z=yl(xe);return u.jsx(xx,{clearLabel:F({id:"clearLabel",defaultMessage:"Clear"}),disabled:p,onChange:ce=>{x({target:{name:b,value:ce?i0(ce,{representation:"date"}):null,type:O}})},onClear:()=>x({target:{name:b,value:null,type:O}}),placeholder:Ve,value:Z})}case"number":return u.jsx(Bl,{disabled:p,onValueChange:Z=>{x({target:{name:b,value:Z,type:O}})},placeholder:Ve,step:q,value:xe,autoFocus:S});case"email":return u.jsx(xn,{autoComplete:a,disabled:p,onChange:Z=>{x({target:{name:b,value:Z.target.value,type:O}})},placeholder:Ve,type:"email",value:Je,autoFocus:S});case"timestamp":case"text":case"string":return u.jsx(xn,{autoComplete:a,disabled:p,onChange:Z=>{x({target:{name:b,value:Z.target.value,type:O}})},placeholder:Ve,type:"text",value:Je,autoFocus:S});case"password":return u.jsx(xn,{autoComplete:a,disabled:p,endAction:u.jsx("button",{"aria-label":F({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{Me(Z=>!Z)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:ve?u.jsx(Xl,{fill:"neutral500"}):u.jsx(vx,{fill:"neutral500"})}),onChange:Z=>{x({target:{name:b,value:Z.target.value,type:O}})},placeholder:Ve,type:ve?"text":"password",value:Je});case"select":return u.jsx(Er,{disabled:p,onChange:Z=>{x({target:{name:b,value:Z,type:"select"}})},placeholder:Ve,value:xe,children:j.map(({metadatas:{intlLabel:Z,disabled:ce,hidden:zt},key:vt,value:mt})=>u.jsx(Or,{value:mt,disabled:ce,hidden:zt,children:F(Z)},vt))});case"textarea":return u.jsx(tc,{disabled:p,onChange:Z=>x({target:{name:b,value:Z.target.value,type:O}}),placeholder:Ve,value:Je});case"time":{const Z=o1({value:xe});return u.jsx(yx,{clearLabel:F({id:"clearLabel",defaultMessage:"Clear"}),disabled:p,onChange:ce=>xl(x,b,O,ce),onClear:()=>xl(x,b,O,void 0),value:Z})}default:return u.jsx(xn,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return u.jsxs(ie.Root,{error:fe,name:b,hint:ee,required:R,children:[O!=="checkbox"?u.jsx(ie.Label,{action:v,children:W}):null,Le(),u.jsx(ie.Error,{}),u.jsx(ie.Hint,{})]})},u1=({description:a,fieldSchema:s,type:l})=>{const{formatMessage:p}=me(),d=()=>a?.id?p({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"";return{hint:(()=>{const{maximum:h,minimum:b}=c1(s),x=l1({type:l,minimum:b,maximum:h}),j=typeof b=="number",w=typeof h=="number",R=w&&j,q=w||j;return!a?.id&&!q?"":p({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:b,max:h,description:d(),unit:x?.message&&q?p(x.message,x.values):null,divider:R?p({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:q?u.jsx("br",{}):null})})()}},l1=({type:a,minimum:s,maximum:l})=>{if(a&&["biginteger","integer","number"].includes(a))return{};const p=Math.max(s||0,l||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:p}}},c1=a=>{if(!a)return{maximum:void 0,minimum:void 0};const{minLength:s,maxLength:l,max:p,min:d}=a;let v,h;const b=Number(d),x=Number(s);Number.isNaN(b)?Number.isNaN(x)||(v=x):v=b;const j=Number(p),w=Number(l);return Number.isNaN(j)?Number.isNaN(w)||(h=w):h=j,{maximum:h,minimum:v}},fc=K.memo(s1,Ea),d1=({oneThatIsCreatingARelationWithAnother:a,target:s})=>{const{contentTypes:l,sortedContentTypesList:p}=Gt(),d=za(),v=p.filter(lc),h=l[s];if(!h)return null;const b=({uid:x,plugin:j,title:w,restrictRelationsTo:R})=>()=>{const q=j?`${j}_${w}`:w;d(qe.onChangeRelationTarget({target:{value:x,oneThatIsCreatingARelationWithAnother:a,selectedContentTypeFriendlyName:q,targetContentTypeAllowedRelations:R}}))};return u.jsxs(Ut.Root,{children:[u.jsx(f1,{children:`${h.info.displayName} ${h.plugin?`(from: ${h.plugin})`:""}`}),u.jsx(Ut.Content,{zIndex:"popover",children:v.map(({uid:x,title:j,restrictRelationsTo:w,plugin:R})=>u.jsxs(Ut.Item,{onSelect:b({uid:x,plugin:R,title:j,restrictRelationsTo:w}),children:[j," ",R&&u.jsxs(u.Fragment,{children:["(from: ",R,")"]})]},x))})]})},f1=St(Ut.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,_l=({disabled:a=!1,error:s,header:l,isMain:p=!1,name:d,onChange:v,oneThatIsCreatingARelationWithAnother:h="",target:b,value:x=""})=>u.jsxs(Te,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[u.jsx(ne,{paddingTop:p?4:1,paddingBottom:p?3:1,justifyContent:"center",children:p?u.jsx(ye,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:l}):u.jsx(d1,{target:b,oneThatIsCreatingARelationWithAnother:h})}),u.jsx(Ua,{background:"neutral200"}),u.jsx(Te,{padding:4,children:u.jsx(fc,{disabled:a,error:s?.id||null,intlLabel:{id:C("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:d,onChange:v,type:"text",value:x})})]});var p1=Tx,m1=wx,h1="[object RegExp]";function g1(a){return m1(a)&&p1(a)==h1}var b1=g1,y1=b1,v1=Mx,Cl=kx,jl=Cl&&Cl.isRegExp,x1=jl?v1(jl):y1,_1=x1,C1=Fx,j1=C1("length"),w1=j1,pc="\\ud800-\\udfff",T1="\\u0300-\\u036f",M1="\\ufe20-\\ufe2f",k1="\\u20d0-\\u20ff",F1=T1+M1+k1,A1="\\ufe0e\\ufe0f",R1="["+pc+"]",wo="["+F1+"]",To="\\ud83c[\\udffb-\\udfff]",$1="(?:"+wo+"|"+To+")",mc="[^"+pc+"]",hc="(?:\\ud83c[\\udde6-\\uddff]){2}",gc="[\\ud800-\\udbff][\\udc00-\\udfff]",S1="\\u200d",bc=$1+"?",yc="["+A1+"]?",N1="(?:"+S1+"(?:"+[mc,hc,gc].join("|")+")"+yc+bc+")*",I1=yc+bc+N1,L1="(?:"+[mc+wo+"?",wo,hc,gc,R1].join("|")+")",wl=RegExp(To+"(?="+To+")|"+L1+I1,"g");function E1(a){for(var s=wl.lastIndex=0;wl.test(a);)++s;return s}var O1=E1,D1=w1,q1=nc,P1=O1;function U1(a){return q1(a)?P1(a):D1(a)}var z1=U1,Tl=$x,W1=Ix,B1=nc,V1=Ax,H1=_1,Z1=z1,G1=Nx,K1=Rx,Ml=Sx,Y1=30,J1="...",X1=/\w*$/;function Q1(a,s){var l=Y1,p=J1;if(V1(s)){var d="separator"in s?s.separator:d;l="length"in s?K1(s.length):l,p="omission"in s?Tl(s.omission):p}a=Ml(a);var v=a.length;if(B1(a)){var h=G1(a);v=h.length}if(l>=v)return a;var b=l-Z1(p);if(b<1)return p;var x=h?W1(h,0,b).join(""):a.slice(0,b);if(d===void 0)return x+p;if(h&&(b+=x.length-b),H1(d)){if(a.slice(b).search(d)){var j,w=x;for(d.global||(d=RegExp(d.source,Ml(X1.exec(d))+"g")),d.lastIndex=0;j=d.exec(w);)var R=j.index;x=x.slice(0,R===void 0?b:R)}}else if(a.indexOf(Tl(d),b)!=b){var q=x.lastIndexOf(d);q>-1&&(x=x.slice(0,q))}return x+p}var e_=Q1;const kl=rc(e_),t_=St(Te)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:a})=>a.colors.primary600};
    z-index: 0;
  }
`,n_=St(Te)`
  background: ${({theme:a,$isSelected:s})=>a.colors[s?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:a,$isSelected:s})=>a.colors[s?"primary700":"neutral200"]};
  border-radius: ${({theme:a})=>a.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:a,$isSelected:s})=>a.colors[s?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,r_=St(ne)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,a_={oneWay:Hl,oneToOne:Zl,oneToMany:Gl,manyToOne:Yl,manyToMany:Jl,manyWay:Kl},i_=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],o_=["oneWay","manyWay"],s_=({naturePickerType:a,oneThatIsCreatingARelationWithAnother:s,relationType:l,target:p,targetUid:d})=>{const v=za(),{formatMessage:h}=me(),{contentTypes:b}=Gt(),j=(a==="component"?"component":Ie(b,[d,"kind"],""))==="collectionType"?i_:o_,w=l==="manyToOne",R=Ie(b,[p,"info","displayName"],"unknown"),q=w?R:s,O=w?s:R,A=Oa(q,l==="manyToMany"?2:1),V=Ie(b,[p,"restrictRelationsTo"],null),S=Oa(O,["manyToMany","oneToMany","manyToOne","manyWay"].includes(l)?2:1);return l?u.jsxs(ne,{style:{flex:1},children:[u.jsx(t_,{children:u.jsx(ne,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:u.jsx(Io,{tagName:"button",children:u.jsx(ne,{gap:3,children:j.map(I=>{const L=a_[I],F=V===null||V.includes(I);return u.jsx(n_,{tag:"button",$isSelected:l===I,disabled:!F,onClick:()=>{F&&v(qe.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:s,value:I}}))},padding:2,type:"button","aria-label":h({id:C(`relation.${I}`)}),"aria-pressed":l===I,"data-relation-type":I,children:u.jsx(L,{"aria-hidden":"true"},I)},I)})})})})}),u.jsxs(r_,{justifyContent:"center",children:[u.jsxs(ye,{children:[kl(A,{length:24})," "]}),u.jsxs(ye,{textColor:"primary600",children:[h({id:C(`relation.${l}`)})," "]}),u.jsx(ye,{children:kl(S,{length:24})})]})]}):null},u_=({formErrors:a,mainBoxHeader:s,modifiedData:l,naturePickerType:p,onChange:d,targetUid:v})=>{const h=Eo(l.relation,l.targetAttribute);return u.jsxs(ne,{style:{position:"relative"},children:[u.jsx(_l,{isMain:!0,header:s,error:a?.name||null,name:"name",onChange:d,value:l?.name||""}),u.jsx(s_,{naturePickerType:p,oneThatIsCreatingARelationWithAnother:s,relationType:h,target:l.target,targetUid:v}),u.jsx(_l,{disabled:["oneWay","manyWay"].includes(h),error:a?.targetAttribute||null,name:"targetAttribute",onChange:d,oneThatIsCreatingARelationWithAnother:s,target:l.target,value:l?.targetAttribute||""})]})},l_=({error:a=null,intlLabel:s,name:l,onChange:p,value:d=void 0,isCreating:v,dynamicZoneTarget:h})=>{const{formatMessage:b}=me(),{allComponentsCategories:x}=Gt(),[j,w]=K.useState(x),R=a?b({id:a,defaultMessage:a}):"",q=b(s),O=V=>{p({target:{name:l,value:V,type:"select-category"}})},A=V=>{w(S=>[...S,V]),O(V)};return u.jsxs(ie.Root,{error:R,name:l,children:[u.jsx(ie.Label,{children:q}),u.jsx(Lx,{disabled:!v&&!h,onChange:O,onCreateOption:A,value:d,creatable:!0,children:j.map(V=>u.jsx(Ex,{value:V,children:V},V))}),u.jsx(ie.Error,{})]})},Mo=(a,s)=>s.find(l=>l.component===a),vc=(a,s,l=0)=>{const p=Mo(a,s);if(!p||!p.childComponents||p.childComponents.length===0)return l;let d=l;return p.childComponents.forEach(v=>{const h=vc(v.component,s,l+1);h>d&&(d=h)}),d},xc=(a,s)=>{const l=(v,h)=>{const b=[];if(b.push(h),!v.uidsOfAllParents)return b;for(const x of v.uidsOfAllParents){const j=Mo(x,s);j&&b.push(...l(j,h+1))}return b},p=Mo(a,s);return p?Math.max(...l(p,1)):0},c_=({error:a=null,intlLabel:s,isAddingAComponentToAnotherComponent:l,isCreating:p,isCreatingComponentWhileAddingAField:d,componentToCreate:v,name:h,onChange:b,targetUid:x,forTarget:j,value:w})=>{const{formatMessage:R}=me(),q=a?R({id:a,defaultMessage:a}):"",O=R(s),{componentsGroupedByCategory:A,componentsThatHaveOtherComponentInTheirAttributes:V,nestedComponents:S}=Gt(),I=j==="component";let L=Object.entries(A).reduce((F,X)=>{const[ee,ve]=X,Me=ve.map(Pe=>({uid:Pe.uid,label:Pe.info.displayName,categoryName:ee}));return[...F,...Me]},[]);return l&&(L=L.filter(({uid:F})=>{const X=vc(F,V),ee=xc(x,S);return X+ee<=ac})),I&&(L=L.filter(F=>F.uid!==x)),d&&(L=[{uid:w,label:v?.displayName,categoryName:v?.category}]),u.jsxs(ie.Root,{error:q,name:h,children:[u.jsx(ie.Label,{children:O}),u.jsx(Er,{disabled:d||!p,onChange:F=>{b({target:{name:h,value:F,type:"select-category"}})},value:w||"",children:L.map(F=>u.jsx(Or,{value:F.uid,children:`${F.categoryName} - ${F.label}`},F.uid))}),u.jsx(ie.Error,{})]})},d_=({dynamicZoneTarget:a,intlLabel:s,name:l,onChange:p,value:d,targetUid:v})=>{const{formatMessage:h}=me(),{componentsGroupedByCategory:b,contentTypes:x}=Gt(),j=jo(x[v].attributes,a);if(!j)return null;const w="components"in j?j?.components:[],R=Object.keys(b).reduce((A,V)=>{const S=b[V].filter(({uid:I})=>!w.includes(I));return S.length>0&&(A[V]=S),A},{}),q=Object.entries(R).reduce((A,V)=>{const[S,I]=V,L={label:S,children:I.map(({uid:F,info:{displayName:X}})=>({label:X,value:F}))};return A.push(L),A},[]),O=h({id:C("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:d?.length??0});return u.jsxs(ie.Root,{name:l,children:[u.jsx(ie.Label,{children:h(s)}),u.jsx(Ul,{id:"select1",customizeContent:()=>O,onChange:A=>{p({target:{name:l,value:A,type:"select-components"}})},options:q,value:d||[]})]})},f_=({intlLabel:a,error:s=void 0,modifiedData:l,name:p,onChange:d,options:v,value:h=""})=>{const{formatMessage:b}=me(),x=b(a),j=s?b({id:s,defaultMessage:s}):"",w=R=>{d({target:{name:p,value:R,type:"select"}}),h&&l.default!==void 0&&l.default!==null&&d({target:{name:"default",value:null}})};return u.jsxs(ie.Root,{error:j,name:p,children:[u.jsx(ie.Label,{children:x}),u.jsx(Er,{onChange:w,value:h||"",children:v.map(({metadatas:{intlLabel:R,disabled:q,hidden:O},key:A,value:V})=>u.jsx(Or,{value:V,disabled:q,hidden:O,children:b({id:R.id,defaultMessage:R.defaultMessage},R.values)},A))}),u.jsx(ie.Error,{})]})},p_=({intlLabel:a,error:s=void 0,modifiedData:l,name:p,onChange:d,options:v,value:h=""})=>{const{formatMessage:b}=me(),x=b(a),j=s?b({id:s,defaultMessage:s}):"",w=R=>{d({target:{name:p,value:R,type:"select"}}),h&&(R==="biginteger"&&h!=="biginteger"&&(l.default!==void 0&&l.default!==null&&d({target:{name:"default",value:null}}),l.max!==void 0&&l.max!==null&&d({target:{name:"max",value:null}}),l.min!==void 0&&l.min!==null&&d({target:{name:"min",value:null}})),typeof R=="string"&&["decimal","float","integer"].includes(R)&&h==="biginteger"&&(l.default!==void 0&&l.default!==null&&d({target:{name:"default",value:null}}),l.max!==void 0&&l.max!==null&&d({target:{name:"max",value:null}}),l.min!==void 0&&l.min!==null&&d({target:{name:"min",value:null}})))};return u.jsxs(ie.Root,{error:j,name:p,children:[u.jsx(ie.Label,{children:x}),u.jsx(Er,{onChange:w,value:h||"",children:v.map(({metadatas:{intlLabel:R,disabled:q,hidden:O},key:A,value:V})=>u.jsx(Or,{value:V,disabled:q,hidden:O,children:b(R)},A))}),u.jsx(ie.Error,{})]})},m_=({description:a=null,error:s=null,intlLabel:l,modifiedData:p,name:d,onChange:v,value:h=null})=>{const{formatMessage:b}=me(),x=K.useRef(v),j=p?.displayName||"";K.useEffect(()=>{j?x.current({target:{name:d,value:ec(j)}}):x.current({target:{name:d,value:""}})},[j,d]);const w=s?b({id:s,defaultMessage:s}):"",R=a?b({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",q=b(l);return u.jsxs(ie.Root,{error:w,hint:R,name:d,children:[u.jsx(ie.Label,{children:q}),u.jsx(xn,{onChange:v,value:h||""}),u.jsx(ie.Error,{}),u.jsx(ie.Hint,{})]})},Fl=({form:a,formErrors:s,genericInputProps:l,modifiedData:p,onChange:d})=>{const{formatMessage:v}=me();return u.jsx(u.Fragment,{children:a.map((h,b)=>h.items.length===0?null:u.jsxs(Te,{children:[h.sectionTitle&&u.jsx(Te,{paddingBottom:4,children:u.jsx(ye,{variant:"delta",tag:"h3",children:v(h.sectionTitle)})}),u.jsx(Dn.Root,{gap:4,children:h.items.map((x,j)=>{const w=`${b}.${j}`,R=Ie(p,x.name,void 0),q=Object.keys(s).find(A=>A===x.name),O=q?s[q].id:Ie(s,[...x.name.split(".").filter(A=>A!=="componentToCreate"),"id"],null);return x.type==="pushRight"?u.jsx(Dn.Item,{col:x.size||6,direction:"column",alignItems:"stretch",children:u.jsx("div",{})},x.name||w):u.jsx(Dn.Item,{col:x.size||6,direction:"column",alignItems:"stretch",children:u.jsx(fc,{...x,...l,error:O,onChange:d,value:R,autoFocus:j===0})},x.name||w)})})]},b))})},h_=({description:a=null,disabled:s=!1,error:l="",intlLabel:p,labelAction:d,name:v,onChange:h,placeholder:b=null,value:x=""})=>{const{formatMessage:j}=me(),w=l?j({id:l,defaultMessage:l}):"",R=a?j({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",q=j(p),O=b?j({id:b.id,defaultMessage:b.defaultMessage},{...b.values}):"",A=Array.isArray(x)?x.join(`
`):"",V=S=>{const I=S.target.value.split(`
`);h({target:{name:v,value:I}})};return u.jsxs(ie.Root,{error:w,hint:R,name:v,children:[u.jsx(ie.Label,{action:d,children:q}),u.jsx(tc,{disabled:s,onChange:V,placeholder:O,value:A}),u.jsx(ie.Error,{}),u.jsx(ie.Hint,{})]})},Zt={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:C("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},g_={sections:[{sectionTitle:null,items:[Zt]}]},ar={base(a=""){return[{sectionTitle:null,items:[{name:`${a}displayName`,type:"text",intlLabel:{id:C("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${a}category`,type:"select-category",intlLabel:{id:C("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${a}icon`,type:"icon-picker",size:12,intlLabel:{id:C("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},B={default:{name:"default",type:"text",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:C("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:C("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:C("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:C("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:C("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:C("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:C("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:C("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},b_={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.private]}]}},component({repeatable:a},s){return s==="1"?{sections:ar.advanced()}:a?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.private,B.max,B.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.private]}]}},date({type:a}){return{sections:[{sectionTitle:null,items:[{...B.default,type:a||"date",value:null,withDefaultValue:!1,disabled:!a,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.unique,B.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.max,B.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...B.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.unique,B.maxLength,B.minLength,B.private]}]}},enumeration(a){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(a.enum||[]).filter((s,l)=>a.enum.indexOf(s)===l&&s).map(s=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}))]},{intlLabel:{id:C("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:C("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:C("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.private]}]}},number(a){const s=a.type==="decimal"||a.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:a.type==="biginteger"?"text":"number",step:s,intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.unique,B.max,B.min,B.private]}]}},password(){return{sections:[{sectionTitle:null,items:[B.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.maxLength,B.minLength,B.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[B.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.maxLength,B.minLength,B.private]}]}},text(){return{sections:[{sectionTitle:null,items:[B.default,B.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.unique,B.maxLength,B.minLength,B.private]}]}},uid(a){return{sections:[{sectionTitle:null,items:[{...B.default,disabled:!!a.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[B.required,B.maxLength,B.minLength,B.private]}]}}},ko={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:C("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:C("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:C("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:C("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},y_={component(a,s){if(s==="1"){const l=a.createComponent===!0?ar.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[ko]},...l]}}return{sections:[{sectionTitle:null,items:[Zt,{name:"component",type:"select-component",intlLabel:{id:C("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:C("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:C("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:C("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:C("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Zt,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Zt]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:C("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:C("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Zt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:C("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:C("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:C("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:C("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Zt,{intlLabel:{id:C("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Zt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:C("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:C("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:C("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:C("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Zt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:C("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:C("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:C("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:C("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(a,s,l){const p=l.filter(({type:d})=>["string","text"].includes(d)).map(({name:d})=>({key:d,value:d,metadatas:{intlLabel:{id:`${d}.no-override`,defaultMessage:d}}}));return{sections:[{sectionTitle:null,items:[{...Zt,placeholder:{id:C("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:C("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...p]}]}]}}},Al={advanced:b_,base:y_};var ho=Dx,v_=Ox(),x_=ic,__=1/0,C_=ho&&1/x_(new ho([,-0]))[1]==__?function(a){return new ho(a)}:v_,j_=C_,w_=qx,T_=Px,M_=o0,k_=Ux,F_=j_,A_=ic,R_=200;function $_(a,s,l){var p=-1,d=T_,v=a.length,h=!0,b=[],x=b;if(l)h=!1,d=M_;else if(v>=R_){var j=s?null:F_(a);if(j)return A_(j);h=!1,d=k_,x=new w_}else x=s?[]:b;e:for(;++p<v;){var w=a[p],R=s?s(w):w;if(w=l||w!==0?w:0,h&&R===R){for(var q=x.length;q--;)if(x[q]===R)continue e;s&&x.push(R),b.push(w)}else d(x,R,l)||(x!==b&&x.push(R),b.push(w))}return b}var S_=$_,N_=S_;function I_(a){return a&&a.length?N_(a):[]}var L_=I_;const E_=rc(L_),go=a=>a?zx(a,{decamelize:!1,lowercase:!1,separator:"_"}):"";var qa={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */qa.exports;(function(a,s){(function(){function l(y,T,i){switch(i.length){case 0:return y.call(T);case 1:return y.call(T,i[0]);case 2:return y.call(T,i[0],i[1]);case 3:return y.call(T,i[0],i[1],i[2])}return y.apply(T,i)}function p(y,T,i,D){for(var J=-1,P=y==null?0:y.length;++J<P;){var ut=y[J];T(D,ut,i(ut),y)}return D}function d(y,T){for(var i=-1,D=y==null?0:y.length;++i<D&&T(y[i],i,y)!==!1;);return y}function v(y,T){for(var i=y==null?0:y.length;i--&&T(y[i],i,y)!==!1;);return y}function h(y,T){for(var i=-1,D=y==null?0:y.length;++i<D;)if(!T(y[i],i,y))return!1;return!0}function b(y,T){for(var i=-1,D=y==null?0:y.length,J=0,P=[];++i<D;){var ut=y[i];T(ut,i,y)&&(P[J++]=ut)}return P}function x(y,T){return!!(y!=null&&y.length)&&F(y,T,0)>-1}function j(y,T,i){for(var D=-1,J=y==null?0:y.length;++D<J;)if(i(T,y[D]))return!0;return!1}function w(y,T){for(var i=-1,D=y==null?0:y.length,J=Array(D);++i<D;)J[i]=T(y[i],i,y);return J}function R(y,T){for(var i=-1,D=T.length,J=y.length;++i<D;)y[J+i]=T[i];return y}function q(y,T,i,D){var J=-1,P=y==null?0:y.length;for(D&&P&&(i=y[++J]);++J<P;)i=T(i,y[J],J,y);return i}function O(y,T,i,D){var J=y==null?0:y.length;for(D&&J&&(i=y[--J]);J--;)i=T(i,y[J],J,y);return i}function A(y,T){for(var i=-1,D=y==null?0:y.length;++i<D;)if(T(y[i],i,y))return!0;return!1}function V(y){return y.split("")}function S(y){return y.match(Vc)||[]}function I(y,T,i){var D;return i(y,function(J,P,ut){if(T(J,P,ut))return D=P,!1}),D}function L(y,T,i,D){for(var J=y.length,P=i+(D?1:-1);D?P--:++P<J;)if(T(y[P],P,y))return P;return-1}function F(y,T,i){return T===T?un(y,T,i):L(y,ee,i)}function X(y,T,i,D){for(var J=i-1,P=y.length;++J<P;)if(D(y[J],T))return J;return-1}function ee(y){return y!==y}function ve(y,T){var i=y==null?0:y.length;return i?tt(y,T)/i:de}function Me(y){return function(T){return T==null?f:T[y]}}function Pe(y){return function(T){return y==null?f:y[T]}}function xe(y,T,i,D,J){return J(y,function(P,ut,mi){i=D?(D=!1,P):T(i,P,ut,mi)}),i}function Je(y,T){var i=y.length;for(y.sort(T);i--;)y[i]=y[i].value;return y}function tt(y,T){for(var i,D=-1,J=y.length;++D<J;){var P=T(y[D]);P!==f&&(i=i===f?P:i+P)}return i}function fe(y,T){for(var i=-1,D=Array(y);++i<y;)D[i]=T(i);return D}function W(y,T){return w(T,function(i){return[i,y[i]]})}function Ve(y){return y&&y.slice(0,qn(y)+1).replace(oi,"")}function Le(y){return function(T){return y(T)}}function Z(y,T){return w(T,function(i){return y[i]})}function ce(y,T){return y.has(T)}function zt(y,T){for(var i=-1,D=y.length;++i<D&&F(T,y[i],0)>-1;);return i}function vt(y,T){for(var i=y.length;i--&&F(T,y[i],0)>-1;);return i}function mt(y,T){for(var i=y.length,D=0;i--;)y[i]===T&&++D;return D}function or(y){return"\\"+Fd[y]}function z(y,T){return y==null?f:y[T]}function ke(y){return _d.test(y)}function Nt(y){return Cd.test(y)}function It(y){for(var T,i=[];!(T=y.next()).done;)i.push(T.value);return i}function ht(y){var T=-1,i=Array(y.size);return y.forEach(function(D,J){i[++T]=[J,D]}),i}function Kt(y,T){return function(i){return y(T(i))}}function gt(y,T){for(var i=-1,D=y.length,J=0,P=[];++i<D;){var ut=y[i];ut!==T&&ut!==Cn||(y[i]=Cn,P[J++]=i)}return P}function sn(y){var T=-1,i=Array(y.size);return y.forEach(function(D){i[++T]=D}),i}function Wa(y){var T=-1,i=Array(y.size);return y.forEach(function(D){i[++T]=[D,D]}),i}function un(y,T,i){for(var D=i-1,J=y.length;++D<J;)if(y[D]===T)return D;return-1}function sr(y,T,i){for(var D=i+1;D--;)if(y[D]===T)return D;return D}function at(y){return ke(y)?H(y):Sd(y)}function Ue(y){return ke(y)?he(y):V(y)}function qn(y){for(var T=y.length;T--&&Uc.test(y.charAt(T)););return T}function H(y){for(var T=di.lastIndex=0;di.test(y);)++T;return T}function he(y){return y.match(di)||[]}function ur(y){return y.match(xd)||[]}var f,Pn="4.17.21",Un=200,Dr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",He="Expected a function",ln="Invalid `variable` option passed into `_.template`",Wt="__lodash_hash_undefined__",qr=500,Cn="__lodash_placeholder__",xt=1,Pr=2,Yt=4,Ze=1,zn=2,it=1,cn=2,Ur=4,Lt=8,jn=16,_t=32,wn=64,Ct=128,dn=256,Wn=512,Ba=30,Va="...",Ha=800,Za=16,zr=1,Ga=2,Ka=3,te=1/0,Ee=9007199254740991,ot=17976931348623157e292,de=NaN,Oe=4294967295,st=Oe-1,jt=Oe>>>1,jc=[["ary",Ct],["bind",it],["bindKey",cn],["curry",Lt],["curryRight",jn],["flip",Wn],["partial",_t],["partialRight",wn],["rearg",dn]],Bn="[object Arguments]",Wr="[object Array]",wc="[object AsyncFunction]",lr="[object Boolean]",cr="[object Date]",Tc="[object DOMException]",Br="[object Error]",Vr="[object Function]",Do="[object GeneratorFunction]",Et="[object Map]",dr="[object Number]",Mc="[object Null]",Jt="[object Object]",qo="[object Promise]",kc="[object Proxy]",fr="[object RegExp]",Ot="[object Set]",pr="[object String]",Hr="[object Symbol]",Fc="[object Undefined]",mr="[object WeakMap]",Ac="[object WeakSet]",hr="[object ArrayBuffer]",Vn="[object DataView]",Ya="[object Float32Array]",Ja="[object Float64Array]",Xa="[object Int8Array]",Qa="[object Int16Array]",ei="[object Int32Array]",ti="[object Uint8Array]",ni="[object Uint8ClampedArray]",ri="[object Uint16Array]",ai="[object Uint32Array]",Rc=/\b__p \+= '';/g,$c=/\b(__p \+=) '' \+/g,Sc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Po=/&(?:amp|lt|gt|quot|#39);/g,Uo=/[&<>"']/g,Nc=RegExp(Po.source),Ic=RegExp(Uo.source),Lc=/<%-([\s\S]+?)%>/g,Ec=/<%([\s\S]+?)%>/g,zo=/<%=([\s\S]+?)%>/g,Oc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dc=/^\w*$/,qc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ii=/[\\^$.*+?()[\]{}|]/g,Pc=RegExp(ii.source),oi=/^\s+/,Uc=/\s/,zc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wc=/\{\n\/\* \[wrapped with (.+)\] \*/,Bc=/,? & /,Vc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hc=/[()=,{}\[\]\/\s]/,Zc=/\\(\\)?/g,Gc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wo=/\w*$/,Kc=/^[-+]0x[0-9a-f]+$/i,Yc=/^0b[01]+$/i,Jc=/^\[object .+?Constructor\]$/,Xc=/^0o[0-7]+$/i,Qc=/^(?:0|[1-9]\d*)$/,ed=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zr=/($^)/,td=/['\n\r\u2028\u2029\\]/g,Gr="\\ud800-\\udfff",nd="\\u0300-\\u036f",rd="\\ufe20-\\ufe2f",ad="\\u20d0-\\u20ff",Bo=nd+rd+ad,Vo="\\u2700-\\u27bf",Ho="a-z\\xdf-\\xf6\\xf8-\\xff",id="\\xac\\xb1\\xd7\\xf7",od="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sd="\\u2000-\\u206f",ud=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zo="A-Z\\xc0-\\xd6\\xd8-\\xde",Go="\\ufe0e\\ufe0f",Ko=id+od+sd+ud,si="['’]",ld="["+Gr+"]",Yo="["+Ko+"]",Kr="["+Bo+"]",Jo="\\d+",cd="["+Vo+"]",Xo="["+Ho+"]",Qo="[^"+Gr+Ko+Jo+Vo+Ho+Zo+"]",ui="\\ud83c[\\udffb-\\udfff]",dd="(?:"+Kr+"|"+ui+")",es="[^"+Gr+"]",li="(?:\\ud83c[\\udde6-\\uddff]){2}",ci="[\\ud800-\\udbff][\\udc00-\\udfff]",Hn="["+Zo+"]",ts="\\u200d",ns="(?:"+Xo+"|"+Qo+")",fd="(?:"+Hn+"|"+Qo+")",rs="(?:"+si+"(?:d|ll|m|re|s|t|ve))?",as="(?:"+si+"(?:D|LL|M|RE|S|T|VE))?",is=dd+"?",os="["+Go+"]?",pd="(?:"+ts+"(?:"+[es,li,ci].join("|")+")"+os+is+")*",md="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ss=os+is+pd,gd="(?:"+[cd,li,ci].join("|")+")"+ss,bd="(?:"+[es+Kr+"?",Kr,li,ci,ld].join("|")+")",yd=RegExp(si,"g"),vd=RegExp(Kr,"g"),di=RegExp(ui+"(?="+ui+")|"+bd+ss,"g"),xd=RegExp([Hn+"?"+Xo+"+"+rs+"(?="+[Yo,Hn,"$"].join("|")+")",fd+"+"+as+"(?="+[Yo,Hn+ns,"$"].join("|")+")",Hn+"?"+ns+"+"+rs,Hn+"+"+as,hd,md,Jo,gd].join("|"),"g"),_d=RegExp("["+ts+Gr+Bo+Go+"]"),Cd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wd=-1,Ce={};Ce[Ya]=Ce[Ja]=Ce[Xa]=Ce[Qa]=Ce[ei]=Ce[ti]=Ce[ni]=Ce[ri]=Ce[ai]=!0,Ce[Bn]=Ce[Wr]=Ce[hr]=Ce[lr]=Ce[Vn]=Ce[cr]=Ce[Br]=Ce[Vr]=Ce[Et]=Ce[dr]=Ce[Jt]=Ce[fr]=Ce[Ot]=Ce[pr]=Ce[mr]=!1;var _e={};_e[Bn]=_e[Wr]=_e[hr]=_e[Vn]=_e[lr]=_e[cr]=_e[Ya]=_e[Ja]=_e[Xa]=_e[Qa]=_e[ei]=_e[Et]=_e[dr]=_e[Jt]=_e[fr]=_e[Ot]=_e[pr]=_e[Hr]=_e[ti]=_e[ni]=_e[ri]=_e[ai]=!0,_e[Br]=_e[Vr]=_e[mr]=!1;var Td={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Md={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ad=parseFloat,Rd=parseInt,us=typeof Sr=="object"&&Sr&&Sr.Object===Object&&Sr,$d=typeof self=="object"&&self&&self.Object===Object&&self,Ke=us||$d||Function("return this")(),fi=s&&!s.nodeType&&s,Tn=fi&&!0&&a&&!a.nodeType&&a,ls=Tn&&Tn.exports===fi,pi=ls&&us.process,wt=function(){try{var y=Tn&&Tn.require&&Tn.require("util").types;return y||pi&&pi.binding&&pi.binding("util")}catch{}}(),cs=wt&&wt.isArrayBuffer,ds=wt&&wt.isDate,fs=wt&&wt.isMap,ps=wt&&wt.isRegExp,ms=wt&&wt.isSet,hs=wt&&wt.isTypedArray,Sd=Me("length"),Nd=Pe(Td),Id=Pe(Md),Ld=Pe(kd),Ed=function y(T){function i(e){if(Se(e)&&!re(e)&&!(e instanceof P)){if(e instanceof J)return e;if(be.call(e,"__wrapped__"))return lu(e)}return new J(e)}function D(){}function J(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=f}function P(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function ut(){var e=new P(this.__wrapped__);return e.__actions__=lt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=lt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=lt(this.__views__),e}function mi(){if(this.__filtered__){var e=new P(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Od(){var e=this.__wrapped__.value(),t=this.__dir__,n=re(e),r=t<0,o=n?e.length:0,c=Zf(0,o,this.__views__),m=c.start,g=c.end,_=g-m,k=r?g:m-1,M=this.__iteratees__,$=M.length,E=0,U=Xe(_,this.__takeCount__);if(!n||!r&&o==_&&U==_)return Es(e,this.__actions__);var G=[];e:for(;_--&&E<U;){k+=t;for(var ae=-1,Y=e[k];++ae<$;){var ue=M[ae],le=ue.iteratee,et=ue.type,pt=le(Y);if(et==Ga)Y=pt;else if(!pt){if(et==zr)continue e;break e}}G[E++]=Y}return G}function Mn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dd(){this.__data__=kr?kr(null):{},this.size=0}function qd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Pd(e){var t=this.__data__;if(kr){var n=t[e];return n===Wt?f:n}return be.call(t,e)?t[e]:f}function Ud(e){var t=this.__data__;return kr?t[e]!==f:be.call(t,e)}function zd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kr&&t===f?Wt:t,this}function Xt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wd(){this.__data__=[],this.size=0}function Bd(e){var t=this.__data__,n=Yr(t,e);return!(n<0)&&(n==t.length-1?t.pop():wa.call(t,n,1),--this.size,!0)}function Vd(e){var t=this.__data__,n=Yr(t,e);return n<0?f:t[n][1]}function Hd(e){return Yr(this.__data__,e)>-1}function Zd(e,t){var n=this.__data__,r=Yr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Qt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gd(){this.size=0,this.__data__={hash:new Mn,map:new(Tr||Xt),string:new Mn}}function Kd(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t}function Yd(e){return ua(this,e).get(e)}function Jd(e){return ua(this,e).has(e)}function Xd(e,t){var n=ua(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function kn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Qt;++t<n;)this.add(e[t])}function Qd(e){return this.__data__.set(e,Wt),this}function ef(e){return this.__data__.has(e)}function Dt(e){this.size=(this.__data__=new Xt(e)).size}function tf(){this.__data__=new Xt,this.size=0}function nf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function rf(e){return this.__data__.get(e)}function af(e){return this.__data__.has(e)}function of(e,t){var n=this.__data__;if(n instanceof Xt){var r=n.__data__;if(!Tr||r.length<Un-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qt(r)}return n.set(e,t),this.size=n.size,this}function gs(e,t){var n=re(e),r=!n&&Nn(e),o=!n&&!r&&bn(e),c=!n&&!r&&!o&&rr(e),m=n||r||o||c,g=m?fe(e.length,ng):[],_=g.length;for(var k in e)!t&&!be.call(e,k)||m&&(k=="length"||o&&(k=="offset"||k=="parent")||c&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||rn(k,_))||g.push(k);return g}function bs(e){var t=e.length;return t?e[wi(0,t-1)]:f}function sf(e,t){return la(lt(e),Fn(t,0,e.length))}function uf(e){return la(lt(e))}function hi(e,t,n){(n===f||qt(e[t],n))&&(n!==f||t in e)||en(e,t,n)}function gr(e,t,n){var r=e[t];be.call(e,t)&&qt(r,n)&&(n!==f||t in e)||en(e,t,n)}function Yr(e,t){for(var n=e.length;n--;)if(qt(e[n][0],t))return n;return-1}function lf(e,t,n,r){return gn(e,function(o,c,m){t(r,o,n(o),m)}),r}function ys(e,t){return e&&Vt(t,Ge(t),e)}function cf(e,t){return e&&Vt(t,dt(t),e)}function en(e,t,n){t=="__proto__"&&Ta?Ta(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function gi(e,t){for(var n=-1,r=t.length,o=We(r),c=e==null;++n<r;)o[n]=c?f:Wi(e,t[n]);return o}function Fn(e,t,n){return e===e&&(n!==f&&(e=e<=n?e:n),t!==f&&(e=e>=t?e:t)),e}function Tt(e,t,n,r,o,c){var m,g=t&xt,_=t&Pr,k=t&Yt;if(n&&(m=o?n(e,r,o,c):n(e)),m!==f)return m;if(!Ae(e))return e;var M=re(e);if(M){if(m=Kf(e),!g)return lt(e,m)}else{var $=Qe(e),E=$==Vr||$==Do;if(bn(e))return Ds(e,g);if($==Jt||$==Bn||E&&!o){if(m=_||E?{}:nu(e),!g)return _?qf(e,cf(m,e)):Df(e,ys(m,e))}else{if(!_e[$])return o?e:{};m=Yf(e,$,g)}}c||(c=new Dt);var U=c.get(e);if(U)return U;c.set(e,m),Qu(e)?e.forEach(function(Y){m.add(Tt(Y,t,n,Y,e,c))}):Xu(e)&&e.forEach(function(Y,ue){m.set(ue,Tt(Y,t,n,ue,e,c))});var G=k?_?Li:Ii:_?dt:Ge,ae=M?f:G(e);return d(ae||e,function(Y,ue){ae&&(ue=Y,Y=e[ue]),gr(m,ue,Tt(Y,t,n,ue,e,c))}),m}function df(e){var t=Ge(e);return function(n){return vs(n,e,t)}}function vs(e,t,n){var r=n.length;if(e==null)return!r;for(e=je(e);r--;){var o=n[r],c=t[o],m=e[o];if(m===f&&!(o in e)||!c(m))return!1}return!0}function xs(e,t,n){if(typeof e!="function")throw new At(He);return Ar(function(){e.apply(f,n)},t)}function br(e,t,n,r){var o=-1,c=x,m=!0,g=e.length,_=[],k=t.length;if(!g)return _;n&&(t=w(t,Le(n))),r?(c=j,m=!1):t.length>=Un&&(c=ce,m=!1,t=new kn(t));e:for(;++o<g;){var M=e[o],$=n==null?M:n(M);if(M=r||M!==0?M:0,m&&$===$){for(var E=k;E--;)if(t[E]===$)continue e;_.push(M)}else c(t,$,r)||_.push(M)}return _}function ff(e,t){var n=!0;return gn(e,function(r,o,c){return n=!!t(r,o,c)}),n}function Jr(e,t,n){for(var r=-1,o=e.length;++r<o;){var c=e[r],m=t(c);if(m!=null&&(g===f?m===m&&!yt(m):n(m,g)))var g=m,_=c}return _}function pf(e,t,n,r){var o=e.length;for(n=oe(n),n<0&&(n=-n>o?0:o+n),r=r===f||r>o?o:oe(r),r<0&&(r+=o),r=n>r?0:ku(r);n<r;)e[n++]=t;return e}function _s(e,t){var n=[];return gn(e,function(r,o,c){t(r,o,c)&&n.push(r)}),n}function Ye(e,t,n,r,o){var c=-1,m=e.length;for(n||(n=Xf),o||(o=[]);++c<m;){var g=e[c];t>0&&n(g)?t>1?Ye(g,t-1,n,r,o):R(o,g):r||(o[o.length]=g)}return o}function Bt(e,t){return e&&no(e,t,Ge)}function bi(e,t){return e&&Bu(e,t,Ge)}function Xr(e,t){return b(t,function(n){return an(e[n])})}function An(e,t){t=pn(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ht(t[n++])];return n&&n==r?e:f}function Cs(e,t,n){var r=t(e);return re(e)?r:R(r,n(e))}function nt(e){return e==null?e===f?Fc:Mc:Sn&&Sn in je(e)?Hf(e):ap(e)}function yi(e,t){return e>t}function mf(e,t){return e!=null&&be.call(e,t)}function hf(e,t){return e!=null&&t in je(e)}function gf(e,t,n){return e>=Xe(t,n)&&e<Be(t,n)}function vi(e,t,n){for(var r=n?j:x,o=e[0].length,c=e.length,m=c,g=We(c),_=1/0,k=[];m--;){var M=e[m];m&&t&&(M=w(M,Le(t))),_=Xe(M.length,_),g[m]=!n&&(t||o>=120&&M.length>=120)?new kn(m&&M):f}M=e[0];var $=-1,E=g[0];e:for(;++$<o&&k.length<_;){var U=M[$],G=t?t(U):U;if(U=n||U!==0?U:0,!(E?ce(E,G):r(k,G,n))){for(m=c;--m;){var ae=g[m];if(!(ae?ce(ae,G):r(e[m],G,n)))continue e}E&&E.push(G),k.push(U)}}return k}function bf(e,t,n,r){return Bt(e,function(o,c,m){t(r,n(o),c,m)}),r}function yr(e,t,n){t=pn(t,e),e=ou(e,t);var r=e==null?e:e[Ht(kt(t))];return r==null?f:l(r,e,n)}function js(e){return Se(e)&&nt(e)==Bn}function yf(e){return Se(e)&&nt(e)==hr}function vf(e){return Se(e)&&nt(e)==cr}function vr(e,t,n,r,o){return e===t||(e==null||t==null||!Se(e)&&!Se(t)?e!==e&&t!==t:xf(e,t,n,r,vr,o))}function xf(e,t,n,r,o,c){var m=re(e),g=re(t),_=m?Wr:Qe(e),k=g?Wr:Qe(t);_=_==Bn?Jt:_,k=k==Bn?Jt:k;var M=_==Jt,$=k==Jt,E=_==k;if(E&&bn(e)){if(!bn(t))return!1;m=!0,M=!1}if(E&&!M)return c||(c=new Dt),m||rr(e)?eu(e,t,n,r,o,c):Bf(e,t,_,n,r,o,c);if(!(n&Ze)){var U=M&&be.call(e,"__wrapped__"),G=$&&be.call(t,"__wrapped__");if(U||G){var ae=U?e.value():e,Y=G?t.value():t;return c||(c=new Dt),o(ae,Y,n,r,c)}}return!!E&&(c||(c=new Dt),Vf(e,t,n,r,o,c))}function _f(e){return Se(e)&&Qe(e)==Et}function xi(e,t,n,r){var o=n.length,c=o,m=!r;if(e==null)return!c;for(e=je(e);o--;){var g=n[o];if(m&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++o<c;){g=n[o];var _=g[0],k=e[_],M=g[1];if(m&&g[2]){if(k===f&&!(_ in e))return!1}else{var $=new Dt;if(r)var E=r(k,M,_,e,t,$);if(!(E===f?vr(M,k,Ze|zn,r,$):E))return!1}}return!0}function ws(e){return!(!Ae(e)||ep(e))&&(an(e)?sg:Jc).test($n(e))}function Cf(e){return Se(e)&&nt(e)==fr}function jf(e){return Se(e)&&Qe(e)==Ot}function wf(e){return Se(e)&&ma(e.length)&&!!Ce[nt(e)]}function Ts(e){return typeof e=="function"?e:e==null?ft:typeof e=="object"?re(e)?Fs(e[0],e[1]):ks(e):Nu(e)}function _i(e){if(!Cr(e))return pg(e);var t=[];for(var n in je(e))be.call(e,n)&&n!="constructor"&&t.push(n);return t}function Tf(e){if(!Ae(e))return rp(e);var t=Cr(e),n=[];for(var r in e)(r!="constructor"||!t&&be.call(e,r))&&n.push(r);return n}function Ci(e,t){return e<t}function Ms(e,t){var n=-1,r=ct(e)?We(e.length):[];return gn(e,function(o,c,m){r[++n]=t(o,c,m)}),r}function ks(e){var t=Ei(e);return t.length==1&&t[0][2]?au(t[0][0],t[0][1]):function(n){return n===e||xi(n,e,t)}}function Fs(e,t){return Oi(e)&&ru(t)?au(Ht(e),t):function(n){var r=Wi(n,e);return r===f&&r===t?Bi(n,e):vr(t,r,Ze|zn)}}function Qr(e,t,n,r,o){e!==t&&no(t,function(c,m){if(o||(o=new Dt),Ae(c))Mf(e,t,m,n,Qr,r,o);else{var g=r?r(qi(e,m),c,m+"",e,t,o):f;g===f&&(g=c),hi(e,m,g)}},dt)}function Mf(e,t,n,r,o,c,m){var g=qi(e,n),_=qi(t,n),k=m.get(_);if(k)return hi(e,n,k),f;var M=c?c(g,_,n+"",e,t,m):f,$=M===f;if($){var E=re(_),U=!E&&bn(_),G=!E&&!U&&rr(_);M=_,E||U||G?re(g)?M=g:De(g)?M=lt(g):U?($=!1,M=Ds(_,!0)):G?($=!1,M=qs(_,!0)):M=[]:jr(_)||Nn(_)?(M=g,Nn(g)?M=Fu(g):Ae(g)&&!an(g)||(M=nu(_))):$=!1}$&&(m.set(_,M),o(M,_,r,c,m),m.delete(_)),hi(e,n,M)}function As(e,t){var n=e.length;if(n)return t+=t<0?n:0,rn(t,n)?e[t]:f}function Rs(e,t,n){t=t.length?w(t,function(o){return re(o)?function(c){return An(c,o.length===1?o[0]:o)}:o}):[ft];var r=-1;return t=w(t,Le(Q())),Je(Ms(e,function(o,c,m){return{criteria:w(t,function(g){return g(o)}),index:++r,value:o}}),function(o,c){return Of(o,c,n)})}function kf(e,t){return $s(e,t,function(n,r){return Bi(e,r)})}function $s(e,t,n){for(var r=-1,o=t.length,c={};++r<o;){var m=t[r],g=An(e,m);n(g,m)&&xr(c,pn(m,e),g)}return c}function Ff(e){return function(t){return An(t,e)}}function ji(e,t,n,r){var o=r?X:F,c=-1,m=t.length,g=e;for(e===t&&(t=lt(t)),n&&(g=w(e,Le(n)));++c<m;)for(var _=0,k=t[c],M=n?n(k):k;(_=o(g,M,_,r))>-1;)g!==e&&wa.call(g,_,1),wa.call(e,_,1);return e}function Ss(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==c){var c=o;rn(o)?wa.call(e,o,1):ki(e,o)}}return e}function wi(e,t){return e+ka(Uu()*(t-e+1))}function Af(e,t,n,r){for(var o=-1,c=Be(Ma((t-e)/(n||1)),0),m=We(c);c--;)m[r?c:++o]=e,e+=n;return m}function Ti(e,t){var n="";if(!e||t<1||t>Ee)return n;do t%2&&(n+=e),t=ka(t/2),t&&(e+=e);while(t);return n}function se(e,t){return io(iu(e,t,ft),e+"")}function Rf(e){return bs(Jn(e))}function $f(e,t){var n=Jn(e);return la(n,Fn(t,0,n.length))}function xr(e,t,n,r){if(!Ae(e))return e;t=pn(t,e);for(var o=-1,c=t.length,m=c-1,g=e;g!=null&&++o<c;){var _=Ht(t[o]),k=n;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(o!=m){var M=g[_];k=r?r(M,_,g):f,k===f&&(k=Ae(M)?M:rn(t[o+1])?[]:{})}gr(g,_,k),g=g[_]}return e}function Sf(e){return la(Jn(e))}function Mt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var c=We(o);++r<o;)c[r]=e[r+t];return c}function Nf(e,t){var n;return gn(e,function(r,o,c){return n=t(r,o,c),!n}),!!n}function ea(e,t,n){var r=0,o=e==null?r:e.length;if(typeof t=="number"&&t===t&&o<=jt){for(;r<o;){var c=r+o>>>1,m=e[c];m!==null&&!yt(m)&&(n?m<=t:m<t)?r=c+1:o=c}return o}return Mi(e,t,ft,n)}function Mi(e,t,n,r){var o=0,c=e==null?0:e.length;if(c===0)return 0;t=n(t);for(var m=t!==t,g=t===null,_=yt(t),k=t===f;o<c;){var M=ka((o+c)/2),$=n(e[M]),E=$!==f,U=$===null,G=$===$,ae=yt($);if(m)var Y=r||G;else Y=k?G&&(r||E):g?G&&E&&(r||!U):_?G&&E&&!U&&(r||!ae):!U&&!ae&&(r?$<=t:$<t);Y?o=M+1:c=M}return Xe(c,st)}function Ns(e,t){for(var n=-1,r=e.length,o=0,c=[];++n<r;){var m=e[n],g=t?t(m):m;if(!n||!qt(g,_)){var _=g;c[o++]=m===0?0:m}}return c}function Is(e){return typeof e=="number"?e:yt(e)?de:+e}function bt(e){if(typeof e=="string")return e;if(re(e))return w(e,bt)+"";if(yt(e))return zu?zu.call(e):"";var t=e+"";return t=="0"&&1/e==-te?"-0":t}function fn(e,t,n){var r=-1,o=x,c=e.length,m=!0,g=[],_=g;if(n)m=!1,o=j;else if(c>=Un){var k=t?null:wg(e);if(k)return sn(k);m=!1,o=ce,_=new kn}else _=t?[]:g;e:for(;++r<c;){var M=e[r],$=t?t(M):M;if(M=n||M!==0?M:0,m&&$===$){for(var E=_.length;E--;)if(_[E]===$)continue e;t&&_.push($),g.push(M)}else o(_,$,n)||(_!==g&&_.push($),g.push(M))}return g}function ki(e,t){return t=pn(t,e),e=ou(e,t),e==null||delete e[Ht(kt(t))]}function Ls(e,t,n,r){return xr(e,t,n(An(e,t)),r)}function ta(e,t,n,r){for(var o=e.length,c=r?o:-1;(r?c--:++c<o)&&t(e[c],c,e););return n?Mt(e,r?0:c,r?c+1:o):Mt(e,r?c+1:0,r?o:c)}function Es(e,t){var n=e;return n instanceof P&&(n=n.value()),q(t,function(r,o){return o.func.apply(o.thisArg,R([r],o.args))},n)}function Fi(e,t,n){var r=e.length;if(r<2)return r?fn(e[0]):[];for(var o=-1,c=We(r);++o<r;)for(var m=e[o],g=-1;++g<r;)g!=o&&(c[o]=br(c[o]||m,e[g],t,n));return fn(Ye(c,1),t,n)}function Os(e,t,n){for(var r=-1,o=e.length,c=t.length,m={};++r<o;)n(m,e[r],r<c?t[r]:f);return m}function Ai(e){return De(e)?e:[]}function Ri(e){return typeof e=="function"?e:ft}function pn(e,t){return re(e)?e:Oi(e,t)?[e]:Ku(ge(e))}function mn(e,t,n){var r=e.length;return n=n===f?r:n,!t&&n>=r?e:Mt(e,t,n)}function Ds(e,t){if(t)return e.slice();var n=e.length,r=Eu?Eu(n):new e.constructor(n);return e.copy(r),r}function $i(e){var t=new e.constructor(e.byteLength);return new Ca(t).set(new Ca(e)),t}function If(e,t){return new e.constructor(t?$i(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function Lf(e){var t=new e.constructor(e.source,Wo.exec(e));return t.lastIndex=e.lastIndex,t}function Ef(e){return Fr?je(Fr.call(e)):{}}function qs(e,t){return new e.constructor(t?$i(e.buffer):e.buffer,e.byteOffset,e.length)}function Ps(e,t){if(e!==t){var n=e!==f,r=e===null,o=e===e,c=yt(e),m=t!==f,g=t===null,_=t===t,k=yt(t);if(!g&&!k&&!c&&e>t||c&&m&&_&&!g&&!k||r&&m&&_||!n&&_||!o)return 1;if(!r&&!c&&!k&&e<t||k&&n&&o&&!r&&!c||g&&n&&o||!m&&o||!_)return-1}return 0}function Of(e,t,n){for(var r=-1,o=e.criteria,c=t.criteria,m=o.length,g=n.length;++r<m;){var _=Ps(o[r],c[r]);if(_)return r>=g?_:_*(n[r]=="desc"?-1:1)}return e.index-t.index}function Us(e,t,n,r){for(var o=-1,c=e.length,m=n.length,g=-1,_=t.length,k=Be(c-m,0),M=We(_+k),$=!r;++g<_;)M[g]=t[g];for(;++o<m;)($||o<c)&&(M[n[o]]=e[o]);for(;k--;)M[g++]=e[o++];return M}function zs(e,t,n,r){for(var o=-1,c=e.length,m=-1,g=n.length,_=-1,k=t.length,M=Be(c-g,0),$=We(M+k),E=!r;++o<M;)$[o]=e[o];for(var U=o;++_<k;)$[U+_]=t[_];for(;++m<g;)(E||o<c)&&($[U+n[m]]=e[o++]);return $}function lt(e,t){var n=-1,r=e.length;for(t||(t=We(r));++n<r;)t[n]=e[n];return t}function Vt(e,t,n,r){var o=!n;n||(n={});for(var c=-1,m=t.length;++c<m;){var g=t[c],_=r?r(n[g],e[g],g,n,e):f;_===f&&(_=e[g]),o?en(n,g,_):gr(n,g,_)}return n}function Df(e,t){return Vt(e,ao(e),t)}function qf(e,t){return Vt(e,Zu(e),t)}function na(e,t){return function(n,r){var o=re(n)?p:lf,c=t?t():{};return o(n,e,Q(r,2),c)}}function Gn(e){return se(function(t,n){var r=-1,o=n.length,c=o>1?n[o-1]:f,m=o>2?n[2]:f;for(c=e.length>3&&typeof c=="function"?(o--,c):f,m&&rt(n[0],n[1],m)&&(c=o<3?f:c,o=1),t=je(t);++r<o;){var g=n[r];g&&e(t,g,r,c)}return t})}function Ws(e,t){return function(n,r){if(n==null)return n;if(!ct(n))return e(n,r);for(var o=n.length,c=t?o:-1,m=je(n);(t?c--:++c<o)&&r(m[c],c,m)!==!1;);return n}}function Bs(e){return function(t,n,r){for(var o=-1,c=je(t),m=r(t),g=m.length;g--;){var _=m[e?g:++o];if(n(c[_],_,c)===!1)break}return t}}function Pf(e,t,n){function r(){return(this&&this!==Ke&&this instanceof r?c:e).apply(o?n:this,arguments)}var o=t&it,c=_r(e);return r}function Vs(e){return function(t){t=ge(t);var n=ke(t)?Ue(t):f,r=n?n[0]:t.charAt(0),o=n?mn(n,1).join(""):t.slice(1);return r[e]()+o}}function Kn(e){return function(t){return q(Su($u(t).replace(yd,"")),e,"")}}function _r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=nr(e.prototype),r=e.apply(n,t);return Ae(r)?r:n}}function Uf(e,t,n){function r(){for(var c=arguments.length,m=We(c),g=c,_=Yn(r);g--;)m[g]=arguments[g];var k=c<3&&m[0]!==_&&m[c-1]!==_?[]:gt(m,_);return c-=k.length,c<n?Ys(e,t,ra,r.placeholder,f,m,k,f,f,n-c):l(this&&this!==Ke&&this instanceof r?o:e,this,m)}var o=_r(e);return r}function Hs(e){return function(t,n,r){var o=je(t);if(!ct(t)){var c=Q(n,3);t=Ge(t),n=function(g){return c(o[g],g,o)}}var m=e(t,n,r);return m>-1?o[c?t[m]:m]:f}}function Zs(e){return nn(function(t){var n=t.length,r=n,o=J.prototype.thru;for(e&&t.reverse();r--;){var c=t[r];if(typeof c!="function")throw new At(He);if(o&&!m&&sa(c)=="wrapper")var m=new J([],!0)}for(r=m?r:n;++r<n;){c=t[r];var g=sa(c),_=g=="wrapper"?ro(c):f;m=_&&Di(_[0])&&_[1]==(Ct|Lt|_t|dn)&&!_[4].length&&_[9]==1?m[sa(_[0])].apply(m,_[3]):c.length==1&&Di(c)?m[g]():m.thru(c)}return function(){var k=arguments,M=k[0];if(m&&k.length==1&&re(M))return m.plant(M).value();for(var $=0,E=n?t[$].apply(this,k):M;++$<n;)E=t[$].call(this,E);return E}})}function ra(e,t,n,r,o,c,m,g,_,k){function M(){for(var ue=arguments.length,le=We(ue),et=ue;et--;)le[et]=arguments[et];if(G)var pt=Yn(M),yn=mt(le,pt);if(r&&(le=Us(le,r,o,G)),c&&(le=zs(le,c,m,G)),ue-=yn,G&&ue<k)return Ys(e,t,ra,M.placeholder,n,le,gt(le,pt),g,_,k-ue);var Ne=E?n:this,Rt=U?Ne[e]:e;return ue=le.length,g?le=ip(le,g):ae&&ue>1&&le.reverse(),$&&_<ue&&(le.length=_),this&&this!==Ke&&this instanceof M&&(Rt=Y||_r(Rt)),Rt.apply(Ne,le)}var $=t&Ct,E=t&it,U=t&cn,G=t&(Lt|jn),ae=t&Wn,Y=U?f:_r(e);return M}function Gs(e,t){return function(n,r){return bf(n,e,t(r),{})}}function aa(e,t){return function(n,r){var o;if(n===f&&r===f)return t;if(n!==f&&(o=n),r!==f){if(o===f)return r;typeof n=="string"||typeof r=="string"?(n=bt(n),r=bt(r)):(n=Is(n),r=Is(r)),o=e(n,r)}return o}}function Si(e){return nn(function(t){return t=w(t,Le(Q())),se(function(n){var r=this;return e(t,function(o){return l(o,r,n)})})})}function ia(e,t){t=t===f?" ":bt(t);var n=t.length;if(n<2)return n?Ti(t,e):t;var r=Ti(t,Ma(e/at(t)));return ke(t)?mn(Ue(r),0,e).join(""):r.slice(0,e)}function zf(e,t,n,r){function o(){for(var g=-1,_=arguments.length,k=-1,M=r.length,$=We(M+_),E=this&&this!==Ke&&this instanceof o?m:e;++k<M;)$[k]=r[k];for(;_--;)$[k++]=arguments[++g];return l(E,c?n:this,$)}var c=t&it,m=_r(e);return o}function Ks(e){return function(t,n,r){return r&&typeof r!="number"&&rt(t,n,r)&&(n=r=f),t=on(t),n===f?(n=t,t=0):n=on(n),r=r===f?t<n?1:-1:on(r),Af(t,n,r,e)}}function oa(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ft(t),n=Ft(n)),e(t,n)}}function Ys(e,t,n,r,o,c,m,g,_,k){var M=t&Lt,$=M?m:f,E=M?f:m,U=M?c:f,G=M?f:c;t|=M?_t:wn,t&=~(M?wn:_t),t&Ur||(t&=-4);var ae=[e,t,o,U,$,G,E,g,_,k],Y=n.apply(f,ae);return Di(e)&&Gu(Y,ae),Y.placeholder=r,su(Y,e,t)}function Ni(e){var t=Xn[e];return function(n,r){if(n=Ft(n),r=r==null?0:Xe(oe(r),292),r&&Pu(n)){var o=(ge(n)+"e").split("e");return o=(ge(t(o[0]+"e"+(+o[1]+r)))+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}function Js(e){return function(t){var n=Qe(t);return n==Et?ht(t):n==Ot?Wa(t):W(t,e(t))}}function tn(e,t,n,r,o,c,m,g){var _=t&cn;if(!_&&typeof e!="function")throw new At(He);var k=r?r.length:0;if(k||(t&=-97,r=o=f),m=m===f?m:Be(oe(m),0),g=g===f?g:oe(g),k-=o?o.length:0,t&wn){var M=r,$=o;r=o=f}var E=_?f:ro(e),U=[e,t,n,r,o,M,$,c,m,g];if(E&&np(U,E),e=U[0],t=U[1],n=U[2],r=U[3],o=U[4],g=U[9]=U[9]===f?_?0:e.length:Be(U[9]-k,0),!g&&t&(Lt|jn)&&(t&=-25),t&&t!=it)G=t==Lt||t==jn?Uf(e,t,g):t!=_t&&t!=(it|_t)||o.length?ra.apply(f,U):zf(e,t,n,r);else var G=Pf(e,t,n);return su((E?Vu:Gu)(G,U),e,t)}function Xs(e,t,n,r){return e===f||qt(e,Qn[n])&&!be.call(r,n)?t:e}function Qs(e,t,n,r,o,c){return Ae(e)&&Ae(t)&&(c.set(t,e),Qr(e,t,f,Qs,c),c.delete(t)),e}function Wf(e){return jr(e)?f:e}function eu(e,t,n,r,o,c){var m=n&Ze,g=e.length,_=t.length;if(g!=_&&!(m&&_>g))return!1;var k=c.get(e),M=c.get(t);if(k&&M)return k==t&&M==e;var $=-1,E=!0,U=n&zn?new kn:f;for(c.set(e,t),c.set(t,e);++$<g;){var G=e[$],ae=t[$];if(r)var Y=m?r(ae,G,$,t,e,c):r(G,ae,$,e,t,c);if(Y!==f){if(Y)continue;E=!1;break}if(U){if(!A(t,function(ue,le){if(!ce(U,le)&&(G===ue||o(G,ue,n,r,c)))return U.push(le)})){E=!1;break}}else if(G!==ae&&!o(G,ae,n,r,c)){E=!1;break}}return c.delete(e),c.delete(t),E}function Bf(e,t,n,r,o,c,m){switch(n){case Vn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hr:return!(e.byteLength!=t.byteLength||!c(new Ca(e),new Ca(t)));case lr:case cr:case dr:return qt(+e,+t);case Br:return e.name==t.name&&e.message==t.message;case fr:case pr:return e==t+"";case Et:var g=ht;case Ot:var _=r&Ze;if(g||(g=sn),e.size!=t.size&&!_)return!1;var k=m.get(e);if(k)return k==t;r|=zn,m.set(e,t);var M=eu(g(e),g(t),r,o,c,m);return m.delete(e),M;case Hr:if(Fr)return Fr.call(e)==Fr.call(t)}return!1}function Vf(e,t,n,r,o,c){var m=n&Ze,g=Ii(e),_=g.length;if(_!=Ii(t).length&&!m)return!1;for(var k=_;k--;){var M=g[k];if(!(m?M in t:be.call(t,M)))return!1}var $=c.get(e),E=c.get(t);if($&&E)return $==t&&E==e;var U=!0;c.set(e,t),c.set(t,e);for(var G=m;++k<_;){M=g[k];var ae=e[M],Y=t[M];if(r)var ue=m?r(Y,ae,M,t,e,c):r(ae,Y,M,e,t,c);if(!(ue===f?ae===Y||o(ae,Y,n,r,c):ue)){U=!1;break}G||(G=M=="constructor")}if(U&&!G){var le=e.constructor,et=t.constructor;le!=et&&"constructor"in e&&"constructor"in t&&!(typeof le=="function"&&le instanceof le&&typeof et=="function"&&et instanceof et)&&(U=!1)}return c.delete(e),c.delete(t),U}function nn(e){return io(iu(e,f,fu),e+"")}function Ii(e){return Cs(e,Ge,ao)}function Li(e){return Cs(e,dt,Zu)}function sa(e){for(var t=e.name+"",n=tr[t],r=be.call(tr,t)?n.length:0;r--;){var o=n[r],c=o.func;if(c==null||c==e)return o.name}return t}function Yn(e){return(be.call(i,"placeholder")?i:e).placeholder}function Q(){var e=i.iteratee||Hi;return e=e===Hi?Ts:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var n=e.__data__;return Qf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ei(e){for(var t=Ge(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ru(o)]}return t}function Rn(e,t){var n=z(e,t);return ws(n)?n:f}function Hf(e){var t=be.call(e,Sn),n=e[Sn];try{e[Sn]=f;var r=!0}catch{}var o=xa.call(e);return r&&(t?e[Sn]=n:delete e[Sn]),o}function Zf(e,t,n){for(var r=-1,o=n.length;++r<o;){var c=n[r],m=c.size;switch(c.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Xe(t,e+m);break;case"takeRight":e=Be(e,t-m)}}return{start:e,end:t}}function Gf(e){var t=e.match(Wc);return t?t[1].split(Bc):[]}function tu(e,t,n){t=pn(t,e);for(var r=-1,o=t.length,c=!1;++r<o;){var m=Ht(t[r]);if(!(c=e!=null&&n(e,m)))break;e=e[m]}return c||++r!=o?c:(o=e==null?0:e.length,!!o&&ma(o)&&rn(m,o)&&(re(e)||Nn(e)))}function Kf(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&be.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function nu(e){return typeof e.constructor!="function"||Cr(e)?{}:nr(ja(e))}function Yf(e,t,n){var r=e.constructor;switch(t){case hr:return $i(e);case lr:case cr:return new r(+e);case Vn:return If(e,n);case Ya:case Ja:case Xa:case Qa:case ei:case ti:case ni:case ri:case ai:return qs(e,n);case Et:return new r;case dr:case pr:return new r(e);case fr:return Lf(e);case Ot:return new r;case Hr:return Ef(e)}}function Jf(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(zc,`{
/* [wrapped with `+t+`] */
`)}function Xf(e){return re(e)||Nn(e)||!!(qu&&e&&e[qu])}function rn(e,t){var n=typeof e;return t=t??Ee,!!t&&(n=="number"||n!="symbol"&&Qc.test(e))&&e>-1&&e%1==0&&e<t}function rt(e,t,n){if(!Ae(n))return!1;var r=typeof t;return!!(r=="number"?ct(n)&&rn(t,n.length):r=="string"&&t in n)&&qt(n[t],e)}function Oi(e,t){if(re(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!yt(e))||Dc.test(e)||!Oc.test(e)||t!=null&&e in je(t)}function Qf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Di(e){var t=sa(e),n=i[t];if(typeof n!="function"||!(t in P.prototype))return!1;if(e===n)return!0;var r=ro(n);return!!r&&e===r[0]}function ep(e){return!!Lu&&Lu in e}function Cr(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Qn)}function ru(e){return e===e&&!Ae(e)}function au(e,t){return function(n){return n!=null&&n[e]===t&&(t!==f||e in je(n))}}function tp(e){var t=fa(e,function(r){return n.size===qr&&n.clear(),r}),n=t.cache;return t}function np(e,t){var n=e[1],r=t[1],o=n|r,c=o<(it|cn|Ct),m=r==Ct&&n==Lt||r==Ct&&n==dn&&e[7].length<=t[8]||r==(Ct|dn)&&t[7].length<=t[8]&&n==Lt;if(!c&&!m)return e;r&it&&(e[2]=t[2],o|=n&it?0:Ur);var g=t[3];if(g){var _=e[3];e[3]=_?Us(_,g,t[4]):g,e[4]=_?gt(e[3],Cn):t[4]}return g=t[5],g&&(_=e[5],e[5]=_?zs(_,g,t[6]):g,e[6]=_?gt(e[5],Cn):t[6]),g=t[7],g&&(e[7]=g),r&Ct&&(e[8]=e[8]==null?t[8]:Xe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function rp(e){var t=[];if(e!=null)for(var n in je(e))t.push(n);return t}function ap(e){return xa.call(e)}function iu(e,t,n){return t=Be(t===f?e.length-1:t,0),function(){for(var r=arguments,o=-1,c=Be(r.length-t,0),m=We(c);++o<c;)m[o]=r[t+o];o=-1;for(var g=We(t+1);++o<t;)g[o]=r[o];return g[t]=n(m),l(e,this,g)}}function ou(e,t){return t.length<2?e:An(e,Mt(t,0,-1))}function ip(e,t){for(var n=e.length,r=Xe(t.length,n),o=lt(e);r--;){var c=t[r];e[r]=rn(c,n)?o[c]:f}return e}function qi(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function su(e,t,n){var r=t+"";return io(e,Jf(r,op(Gf(r),n)))}function uu(e){var t=0,n=0;return function(){var r=mg(),o=Za-(r-n);if(n=r,o>0){if(++t>=Ha)return arguments[0]}else t=0;return e.apply(f,arguments)}}function la(e,t){var n=-1,r=e.length,o=r-1;for(t=t===f?r:t;++n<t;){var c=wi(n,o),m=e[c];e[c]=e[n],e[n]=m}return e.length=t,e}function Ht(e){if(typeof e=="string"||yt(e))return e;var t=e+"";return t=="0"&&1/e==-te?"-0":t}function $n(e){if(e!=null){try{return va.call(e)}catch{}try{return e+""}catch{}}return""}function op(e,t){return d(jc,function(n){var r="_."+n[0];t&n[1]&&!x(e,r)&&e.push(r)}),e.sort()}function lu(e){if(e instanceof P)return e.clone();var t=new J(e.__wrapped__,e.__chain__);return t.__actions__=lt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function sp(e,t,n){t=(n?rt(e,t,n):t===f)?1:Be(oe(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,c=0,m=We(Ma(r/t));o<r;)m[c++]=Mt(e,o,o+=t);return m}function up(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var c=e[t];c&&(o[r++]=c)}return o}function lp(){var e=arguments.length;if(!e)return[];for(var t=We(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return R(re(n)?lt(n):[n],Ye(t,1))}function cp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===f?1:oe(t),Mt(e,t<0?0:t,r)):[]}function dp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===f?1:oe(t),t=r-t,Mt(e,0,t<0?0:t)):[]}function fp(e,t){return e&&e.length?ta(e,Q(t,3),!0,!0):[]}function pp(e,t){return e&&e.length?ta(e,Q(t,3),!0):[]}function mp(e,t,n,r){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&rt(e,t,n)&&(n=0,r=o),pf(e,t,n,r)):[]}function cu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:oe(n);return o<0&&(o=Be(r+o,0)),L(e,Q(t,3),o)}function du(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return n!==f&&(o=oe(n),o=n<0?Be(r+o,0):Xe(o,r-1)),L(e,Q(t,3),o,!0)}function fu(e){return e!=null&&e.length?Ye(e,1):[]}function hp(e){return e!=null&&e.length?Ye(e,te):[]}function gp(e,t){return e!=null&&e.length?(t=t===f?1:oe(t),Ye(e,t)):[]}function bp(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function pu(e){return e&&e.length?e[0]:f}function yp(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:oe(n);return o<0&&(o=Be(r+o,0)),F(e,t,o)}function vp(e){return e!=null&&e.length?Mt(e,0,-1):[]}function xp(e,t){return e==null?"":fg.call(e,t)}function kt(e){var t=e==null?0:e.length;return t?e[t-1]:f}function _p(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r;return n!==f&&(o=oe(n),o=o<0?Be(r+o,0):Xe(o,r-1)),t===t?sr(e,t,o):L(e,ee,o,!0)}function Cp(e,t){return e&&e.length?As(e,oe(t)):f}function mu(e,t){return e&&e.length&&t&&t.length?ji(e,t):e}function jp(e,t,n){return e&&e.length&&t&&t.length?ji(e,t,Q(n,2)):e}function wp(e,t,n){return e&&e.length&&t&&t.length?ji(e,t,f,n):e}function Tp(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],c=e.length;for(t=Q(t,3);++r<c;){var m=e[r];t(m,r,e)&&(n.push(m),o.push(r))}return Ss(e,o),n}function Pi(e){return e==null?e:gg.call(e)}function Mp(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&rt(e,t,n)?(t=0,n=r):(t=t==null?0:oe(t),n=n===f?r:oe(n)),Mt(e,t,n)):[]}function kp(e,t){return ea(e,t)}function Fp(e,t,n){return Mi(e,t,Q(n,2))}function Ap(e,t){var n=e==null?0:e.length;if(n){var r=ea(e,t);if(r<n&&qt(e[r],t))return r}return-1}function Rp(e,t){return ea(e,t,!0)}function $p(e,t,n){return Mi(e,t,Q(n,2),!0)}function Sp(e,t){if(e!=null&&e.length){var n=ea(e,t,!0)-1;if(qt(e[n],t))return n}return-1}function Np(e){return e&&e.length?Ns(e):[]}function Ip(e,t){return e&&e.length?Ns(e,Q(t,2)):[]}function Lp(e){var t=e==null?0:e.length;return t?Mt(e,1,t):[]}function Ep(e,t,n){return e&&e.length?(t=n||t===f?1:oe(t),Mt(e,0,t<0?0:t)):[]}function Op(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===f?1:oe(t),t=r-t,Mt(e,t<0?0:t,r)):[]}function Dp(e,t){return e&&e.length?ta(e,Q(t,3),!1,!0):[]}function qp(e,t){return e&&e.length?ta(e,Q(t,3)):[]}function Pp(e){return e&&e.length?fn(e):[]}function Up(e,t){return e&&e.length?fn(e,Q(t,2)):[]}function zp(e,t){return t=typeof t=="function"?t:f,e&&e.length?fn(e,f,t):[]}function Ui(e){if(!e||!e.length)return[];var t=0;return e=b(e,function(n){if(De(n))return t=Be(n.length,t),!0}),fe(t,function(n){return w(e,Me(n))})}function hu(e,t){if(!e||!e.length)return[];var n=Ui(e);return t==null?n:w(n,function(r){return l(t,f,r)})}function Wp(e,t){return Os(e||[],t||[],gr)}function Bp(e,t){return Os(e||[],t||[],xr)}function gu(e){var t=i(e);return t.__chain__=!0,t}function Vp(e,t){return t(e),e}function ca(e,t){return t(e)}function Hp(){return gu(this)}function Zp(){return new J(this.value(),this.__chain__)}function Gp(){this.__values__===f&&(this.__values__=Mu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?f:this.__values__[this.__index__++]}}function Kp(){return this}function Yp(e){for(var t,n=this;n instanceof D;){var r=lu(n);r.__index__=0,r.__values__=f,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function Jp(){var e=this.__wrapped__;if(e instanceof P){var t=e;return this.__actions__.length&&(t=new P(this)),t=t.reverse(),t.__actions__.push({func:ca,args:[Pi],thisArg:f}),new J(t,this.__chain__)}return this.thru(Pi)}function Xp(){return Es(this.__wrapped__,this.__actions__)}function Qp(e,t,n){var r=re(e)?h:ff;return n&&rt(e,t,n)&&(t=f),r(e,Q(t,3))}function em(e,t){return(re(e)?b:_s)(e,Q(t,3))}function tm(e,t){return Ye(da(e,t),1)}function nm(e,t){return Ye(da(e,t),te)}function rm(e,t,n){return n=n===f?1:oe(n),Ye(da(e,t),n)}function bu(e,t){return(re(e)?d:gn)(e,Q(t,3))}function yu(e,t){return(re(e)?v:Wu)(e,Q(t,3))}function am(e,t,n,r){e=ct(e)?e:Jn(e),n=n&&!r?oe(n):0;var o=e.length;return n<0&&(n=Be(o+n,0)),ha(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&F(e,t,n)>-1}function da(e,t){return(re(e)?w:Ms)(e,Q(t,3))}function im(e,t,n,r){return e==null?[]:(re(t)||(t=t==null?[]:[t]),n=r?f:n,re(n)||(n=n==null?[]:[n]),Rs(e,t,n))}function om(e,t,n){var r=re(e)?q:xe,o=arguments.length<3;return r(e,Q(t,4),n,o,gn)}function sm(e,t,n){var r=re(e)?O:xe,o=arguments.length<3;return r(e,Q(t,4),n,o,Wu)}function um(e,t){return(re(e)?b:_s)(e,pa(Q(t,3)))}function lm(e){return(re(e)?bs:Rf)(e)}function cm(e,t,n){return t=(n?rt(e,t,n):t===f)?1:oe(t),(re(e)?sf:$f)(e,t)}function dm(e){return(re(e)?uf:Sf)(e)}function fm(e){if(e==null)return 0;if(ct(e))return ha(e)?at(e):e.length;var t=Qe(e);return t==Et||t==Ot?e.size:_i(e).length}function pm(e,t,n){var r=re(e)?A:Nf;return n&&rt(e,t,n)&&(t=f),r(e,Q(t,3))}function mm(e,t){if(typeof t!="function")throw new At(He);return e=oe(e),function(){if(--e<1)return t.apply(this,arguments)}}function vu(e,t,n){return t=n?f:t,t=e&&t==null?e.length:t,tn(e,Ct,f,f,f,f,t)}function xu(e,t){var n;if(typeof t!="function")throw new At(He);return e=oe(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=f),n}}function _u(e,t,n){t=n?f:t;var r=tn(e,Lt,f,f,f,f,f,t);return r.placeholder=_u.placeholder,r}function Cu(e,t,n){t=n?f:t;var r=tn(e,jn,f,f,f,f,f,t);return r.placeholder=Cu.placeholder,r}function ju(e,t,n){function r(Ne){var Rt=E,Rr=U;return E=U=f,le=Ne,ae=e.apply(Rr,Rt)}function o(Ne){return le=Ne,Y=Ar(g,t),et?r(Ne):ae}function c(Ne){var Rt=Ne-ue,Rr=Ne-le,il=t-Rt;return pt?Xe(il,G-Rr):il}function m(Ne){var Rt=Ne-ue,Rr=Ne-le;return ue===f||Rt>=t||Rt<0||pt&&Rr>=G}function g(){var Ne=Ra();return m(Ne)?_(Ne):(Y=Ar(g,c(Ne)),f)}function _(Ne){return Y=f,yn&&E?r(Ne):(E=U=f,ae)}function k(){Y!==f&&Hu(Y),le=0,E=ue=U=Y=f}function M(){return Y===f?ae:_(Ra())}function $(){var Ne=Ra(),Rt=m(Ne);if(E=arguments,U=this,ue=Ne,Rt){if(Y===f)return o(ue);if(pt)return Hu(Y),Y=Ar(g,t),r(ue)}return Y===f&&(Y=Ar(g,t)),ae}var E,U,G,ae,Y,ue,le=0,et=!1,pt=!1,yn=!0;if(typeof e!="function")throw new At(He);return t=Ft(t)||0,Ae(n)&&(et=!!n.leading,pt="maxWait"in n,G=pt?Be(Ft(n.maxWait)||0,t):G,yn="trailing"in n?!!n.trailing:yn),$.cancel=k,$.flush=M,$}function hm(e){return tn(e,Wn)}function fa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new At(He);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],c=n.cache;if(c.has(o))return c.get(o);var m=e.apply(this,r);return n.cache=c.set(o,m)||c,m};return n.cache=new(fa.Cache||Qt),n}function pa(e){if(typeof e!="function")throw new At(He);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function gm(e){return xu(2,e)}function bm(e,t){if(typeof e!="function")throw new At(He);return t=t===f?t:oe(t),se(e,t)}function ym(e,t){if(typeof e!="function")throw new At(He);return t=t==null?0:Be(oe(t),0),se(function(n){var r=n[t],o=mn(n,0,t);return r&&R(o,r),l(e,this,o)})}function vm(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new At(He);return Ae(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ju(e,t,{leading:r,maxWait:t,trailing:o})}function xm(e){return vu(e,1)}function _m(e,t){return so(Ri(t),e)}function Cm(){if(!arguments.length)return[];var e=arguments[0];return re(e)?e:[e]}function jm(e){return Tt(e,Yt)}function wm(e,t){return t=typeof t=="function"?t:f,Tt(e,Yt,t)}function Tm(e){return Tt(e,xt|Yt)}function Mm(e,t){return t=typeof t=="function"?t:f,Tt(e,xt|Yt,t)}function km(e,t){return t==null||vs(e,t,Ge(t))}function qt(e,t){return e===t||e!==e&&t!==t}function ct(e){return e!=null&&ma(e.length)&&!an(e)}function De(e){return Se(e)&&ct(e)}function Fm(e){return e===!0||e===!1||Se(e)&&nt(e)==lr}function Am(e){return Se(e)&&e.nodeType===1&&!jr(e)}function Rm(e){if(e==null)return!0;if(ct(e)&&(re(e)||typeof e=="string"||typeof e.splice=="function"||bn(e)||rr(e)||Nn(e)))return!e.length;var t=Qe(e);if(t==Et||t==Ot)return!e.size;if(Cr(e))return!_i(e).length;for(var n in e)if(be.call(e,n))return!1;return!0}function $m(e,t){return vr(e,t)}function Sm(e,t,n){n=typeof n=="function"?n:f;var r=n?n(e,t):f;return r===f?vr(e,t,f,n):!!r}function zi(e){if(!Se(e))return!1;var t=nt(e);return t==Br||t==Tc||typeof e.message=="string"&&typeof e.name=="string"&&!jr(e)}function Nm(e){return typeof e=="number"&&Pu(e)}function an(e){if(!Ae(e))return!1;var t=nt(e);return t==Vr||t==Do||t==wc||t==kc}function wu(e){return typeof e=="number"&&e==oe(e)}function ma(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ee}function Ae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Se(e){return e!=null&&typeof e=="object"}function Im(e,t){return e===t||xi(e,t,Ei(t))}function Lm(e,t,n){return n=typeof n=="function"?n:f,xi(e,t,Ei(t),n)}function Em(e){return Tu(e)&&e!=+e}function Om(e){if(Tg(e))throw new Ji(Dr);return ws(e)}function Dm(e){return e===null}function qm(e){return e==null}function Tu(e){return typeof e=="number"||Se(e)&&nt(e)==dr}function jr(e){if(!Se(e)||nt(e)!=Jt)return!1;var t=ja(e);if(t===null)return!0;var n=be.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&va.call(n)==ig}function Pm(e){return wu(e)&&e>=-Ee&&e<=Ee}function ha(e){return typeof e=="string"||!re(e)&&Se(e)&&nt(e)==pr}function yt(e){return typeof e=="symbol"||Se(e)&&nt(e)==Hr}function Um(e){return e===f}function zm(e){return Se(e)&&Qe(e)==mr}function Wm(e){return Se(e)&&nt(e)==Ac}function Mu(e){if(!e)return[];if(ct(e))return ha(e)?Ue(e):lt(e);if(wr&&e[wr])return It(e[wr]());var t=Qe(e);return(t==Et?ht:t==Ot?sn:Jn)(e)}function on(e){return e?(e=Ft(e),e===te||e===-te?(e<0?-1:1)*ot:e===e?e:0):e===0?e:0}function oe(e){var t=on(e),n=t%1;return t===t?n?t-n:t:0}function ku(e){return e?Fn(oe(e),0,Oe):0}function Ft(e){if(typeof e=="number")return e;if(yt(e))return de;if(Ae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ve(e);var n=Yc.test(e);return n||Xc.test(e)?Rd(e.slice(2),n?2:8):Kc.test(e)?de:+e}function Fu(e){return Vt(e,dt(e))}function Bm(e){return e?Fn(oe(e),-Ee,Ee):e===0?e:0}function ge(e){return e==null?"":bt(e)}function Vm(e,t){var n=nr(e);return t==null?n:ys(n,t)}function Hm(e,t){return I(e,Q(t,3),Bt)}function Zm(e,t){return I(e,Q(t,3),bi)}function Gm(e,t){return e==null?e:no(e,Q(t,3),dt)}function Km(e,t){return e==null?e:Bu(e,Q(t,3),dt)}function Ym(e,t){return e&&Bt(e,Q(t,3))}function Jm(e,t){return e&&bi(e,Q(t,3))}function Xm(e){return e==null?[]:Xr(e,Ge(e))}function Qm(e){return e==null?[]:Xr(e,dt(e))}function Wi(e,t,n){var r=e==null?f:An(e,t);return r===f?n:r}function eh(e,t){return e!=null&&tu(e,t,mf)}function Bi(e,t){return e!=null&&tu(e,t,hf)}function Ge(e){return ct(e)?gs(e):_i(e)}function dt(e){return ct(e)?gs(e,!0):Tf(e)}function th(e,t){var n={};return t=Q(t,3),Bt(e,function(r,o,c){en(n,t(r,o,c),r)}),n}function nh(e,t){var n={};return t=Q(t,3),Bt(e,function(r,o,c){en(n,o,t(r,o,c))}),n}function rh(e,t){return Au(e,pa(Q(t)))}function Au(e,t){if(e==null)return{};var n=w(Li(e),function(r){return[r]});return t=Q(t),$s(e,n,function(r,o){return t(r,o[0])})}function ah(e,t,n){t=pn(t,e);var r=-1,o=t.length;for(o||(o=1,e=f);++r<o;){var c=e==null?f:e[Ht(t[r])];c===f&&(r=o,c=n),e=an(c)?c.call(e):c}return e}function ih(e,t,n){return e==null?e:xr(e,t,n)}function oh(e,t,n,r){return r=typeof r=="function"?r:f,e==null?e:xr(e,t,n,r)}function sh(e,t,n){var r=re(e),o=r||bn(e)||rr(e);if(t=Q(t,4),n==null){var c=e&&e.constructor;n=o?r?new c:[]:Ae(e)&&an(c)?nr(ja(e)):{}}return(o?d:Bt)(e,function(m,g,_){return t(n,m,g,_)}),n}function uh(e,t){return e==null||ki(e,t)}function lh(e,t,n){return e==null?e:Ls(e,t,Ri(n))}function ch(e,t,n,r){return r=typeof r=="function"?r:f,e==null?e:Ls(e,t,Ri(n),r)}function Jn(e){return e==null?[]:Z(e,Ge(e))}function dh(e){return e==null?[]:Z(e,dt(e))}function fh(e,t,n){return n===f&&(n=t,t=f),n!==f&&(n=Ft(n),n=n===n?n:0),t!==f&&(t=Ft(t),t=t===t?t:0),Fn(Ft(e),t,n)}function ph(e,t,n){return t=on(t),n===f?(n=t,t=0):n=on(n),e=Ft(e),gf(e,t,n)}function mh(e,t,n){if(n&&typeof n!="boolean"&&rt(e,t,n)&&(t=n=f),n===f&&(typeof t=="boolean"?(n=t,t=f):typeof e=="boolean"&&(n=e,e=f)),e===f&&t===f?(e=0,t=1):(e=on(e),t===f?(t=e,e=0):t=on(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Uu();return Xe(e+o*(t-e+Ad("1e-"+((o+"").length-1))),t)}return wi(e,t)}function Ru(e){return lo(ge(e).toLowerCase())}function $u(e){return e=ge(e),e&&e.replace(ed,Nd).replace(vd,"")}function hh(e,t,n){e=ge(e),t=bt(t);var r=e.length;n=n===f?r:Fn(oe(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function gh(e){return e=ge(e),e&&Ic.test(e)?e.replace(Uo,Id):e}function bh(e){return e=ge(e),e&&Pc.test(e)?e.replace(ii,"\\$&"):e}function yh(e,t,n){e=ge(e),t=oe(t);var r=t?at(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return ia(ka(o),n)+e+ia(Ma(o),n)}function vh(e,t,n){e=ge(e),t=oe(t);var r=t?at(e):0;return t&&r<t?e+ia(t-r,n):e}function xh(e,t,n){e=ge(e),t=oe(t);var r=t?at(e):0;return t&&r<t?ia(t-r,n)+e:e}function _h(e,t,n){return n||t==null?t=0:t&&(t=+t),hg(ge(e).replace(oi,""),t||0)}function Ch(e,t,n){return t=(n?rt(e,t,n):t===f)?1:oe(t),Ti(ge(e),t)}function jh(){var e=arguments,t=ge(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function wh(e,t,n){return n&&typeof n!="number"&&rt(e,t,n)&&(t=n=f),(n=n===f?Oe:n>>>0)?(e=ge(e),e&&(typeof t=="string"||t!=null&&!uo(t))&&(t=bt(t),!t&&ke(e))?mn(Ue(e),0,n):e.split(t,n)):[]}function Th(e,t,n){return e=ge(e),n=n==null?0:Fn(oe(n),0,e.length),t=bt(t),e.slice(n,n+t.length)==t}function Mh(e,t,n){var r=i.templateSettings;n&&rt(e,t,n)&&(t=f),e=ge(e),t=$a({},t,r,Xs);var o,c,m=$a({},t.imports,r.imports,Xs),g=Ge(m),_=Z(m,g),k=0,M=t.interpolate||Zr,$="__p += '",E=Xi((t.escape||Zr).source+"|"+M.source+"|"+(M===zo?Gc:Zr).source+"|"+(t.evaluate||Zr).source+"|$","g"),U="//# sourceURL="+(be.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wd+"]")+`
`;e.replace(E,function(Y,ue,le,et,pt,yn){return le||(le=et),$+=e.slice(k,yn).replace(td,or),ue&&(o=!0,$+=`' +
__e(`+ue+`) +
'`),pt&&(c=!0,$+=`';
`+pt+`;
__p += '`),le&&($+=`' +
((__t = (`+le+`)) == null ? '' : __t) +
'`),k=yn+Y.length,Y}),$+=`';
`;var G=be.call(t,"variable")&&t.variable;if(G){if(Hc.test(G))throw new Ji(ln)}else $=`with (obj) {
`+$+`
}
`;$=(c?$.replace(Rc,""):$).replace($c,"$1").replace(Sc,"$1;"),$="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var ae=al(function(){return Iu(g,U+"return "+$).apply(f,_)});if(ae.source=$,zi(ae))throw ae;return ae}function kh(e){return ge(e).toLowerCase()}function Fh(e){return ge(e).toUpperCase()}function Ah(e,t,n){if(e=ge(e),e&&(n||t===f))return Ve(e);if(!e||!(t=bt(t)))return e;var r=Ue(e),o=Ue(t);return mn(r,zt(r,o),vt(r,o)+1).join("")}function Rh(e,t,n){if(e=ge(e),e&&(n||t===f))return e.slice(0,qn(e)+1);if(!e||!(t=bt(t)))return e;var r=Ue(e);return mn(r,0,vt(r,Ue(t))+1).join("")}function $h(e,t,n){if(e=ge(e),e&&(n||t===f))return e.replace(oi,"");if(!e||!(t=bt(t)))return e;var r=Ue(e);return mn(r,zt(r,Ue(t))).join("")}function Sh(e,t){var n=Ba,r=Va;if(Ae(t)){var o="separator"in t?t.separator:o;n="length"in t?oe(t.length):n,r="omission"in t?bt(t.omission):r}e=ge(e);var c=e.length;if(ke(e)){var m=Ue(e);c=m.length}if(n>=c)return e;var g=n-at(r);if(g<1)return r;var _=m?mn(m,0,g).join(""):e.slice(0,g);if(o===f)return _+r;if(m&&(g+=_.length-g),uo(o)){if(e.slice(g).search(o)){var k,M=_;for(o.global||(o=Xi(o.source,ge(Wo.exec(o))+"g")),o.lastIndex=0;k=o.exec(M);)var $=k.index;_=_.slice(0,$===f?g:$)}}else if(e.indexOf(bt(o),g)!=g){var E=_.lastIndexOf(o);E>-1&&(_=_.slice(0,E))}return _+r}function Nh(e){return e=ge(e),e&&Nc.test(e)?e.replace(Po,Ld):e}function Su(e,t,n){return e=ge(e),t=n?f:t,t===f?Nt(e)?ur(e):S(e):e.match(t)||[]}function Ih(e){var t=e==null?0:e.length,n=Q();return e=t?w(e,function(r){if(typeof r[1]!="function")throw new At(He);return[n(r[0]),r[1]]}):[],se(function(r){for(var o=-1;++o<t;){var c=e[o];if(l(c[0],this,r))return l(c[1],this,r)}})}function Lh(e){return df(Tt(e,xt))}function Vi(e){return function(){return e}}function Eh(e,t){return e==null||e!==e?t:e}function ft(e){return e}function Hi(e){return Ts(typeof e=="function"?e:Tt(e,xt))}function Oh(e){return ks(Tt(e,xt))}function Dh(e,t){return Fs(e,Tt(t,xt))}function Zi(e,t,n){var r=Ge(t),o=Xr(t,r);n!=null||Ae(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Xr(t,Ge(t)));var c=!(Ae(n)&&"chain"in n&&!n.chain),m=an(e);return d(o,function(g){var _=t[g];e[g]=_,m&&(e.prototype[g]=function(){var k=this.__chain__;if(c||k){var M=e(this.__wrapped__);return(M.__actions__=lt(this.__actions__)).push({func:_,args:arguments,thisArg:e}),M.__chain__=k,M}return _.apply(e,R([this.value()],arguments))})}),e}function qh(){return Ke._===this&&(Ke._=og),this}function Gi(){}function Ph(e){return e=oe(e),se(function(t){return As(t,e)})}function Nu(e){return Oi(e)?Me(Ht(e)):Ff(e)}function Uh(e){return function(t){return e==null?f:An(e,t)}}function Ki(){return[]}function Yi(){return!1}function zh(){return{}}function Wh(){return""}function Bh(){return!0}function Vh(e,t){if(e=oe(e),e<1||e>Ee)return[];var n=Oe,r=Xe(e,Oe);t=Q(t),e-=Oe;for(var o=fe(r,t);++n<e;)t(n);return o}function Hh(e){return re(e)?w(e,Ht):yt(e)?[e]:lt(Ku(ge(e)))}function Zh(e){var t=++ag;return ge(e)+t}function Gh(e){return e&&e.length?Jr(e,ft,yi):f}function Kh(e,t){return e&&e.length?Jr(e,Q(t,2),yi):f}function Yh(e){return ve(e,ft)}function Jh(e,t){return ve(e,Q(t,2))}function Xh(e){return e&&e.length?Jr(e,ft,Ci):f}function Qh(e,t){return e&&e.length?Jr(e,Q(t,2),Ci):f}function eg(e){return e&&e.length?tt(e,ft):0}function tg(e,t){return e&&e.length?tt(e,Q(t,2)):0}T=T==null?Ke:Zn.defaults(Ke.Object(),T,Zn.pick(Ke,jd));var We=T.Array,ga=T.Date,Ji=T.Error,Iu=T.Function,Xn=T.Math,je=T.Object,Xi=T.RegExp,ng=T.String,At=T.TypeError,ba=We.prototype,rg=Iu.prototype,Qn=je.prototype,ya=T["__core-js_shared__"],va=rg.toString,be=Qn.hasOwnProperty,ag=0,Lu=function(){var e=/[^.]+$/.exec(ya&&ya.keys&&ya.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),xa=Qn.toString,ig=va.call(je),og=Ke._,sg=Xi("^"+va.call(be).replace(ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_a=ls?T.Buffer:f,hn=T.Symbol,Ca=T.Uint8Array,Eu=_a?_a.allocUnsafe:f,ja=Kt(je.getPrototypeOf,je),Ou=je.create,Du=Qn.propertyIsEnumerable,wa=ba.splice,qu=hn?hn.isConcatSpreadable:f,wr=hn?hn.iterator:f,Sn=hn?hn.toStringTag:f,Ta=function(){try{var e=Rn(je,"defineProperty");return e({},"",{}),e}catch{}}(),ug=T.clearTimeout!==Ke.clearTimeout&&T.clearTimeout,lg=ga&&ga.now!==Ke.Date.now&&ga.now,cg=T.setTimeout!==Ke.setTimeout&&T.setTimeout,Ma=Xn.ceil,ka=Xn.floor,Qi=je.getOwnPropertySymbols,dg=_a?_a.isBuffer:f,Pu=T.isFinite,fg=ba.join,pg=Kt(je.keys,je),Be=Xn.max,Xe=Xn.min,mg=ga.now,hg=T.parseInt,Uu=Xn.random,gg=ba.reverse,eo=Rn(T,"DataView"),Tr=Rn(T,"Map"),to=Rn(T,"Promise"),er=Rn(T,"Set"),Mr=Rn(T,"WeakMap"),kr=Rn(je,"create"),Fa=Mr&&new Mr,tr={},bg=$n(eo),yg=$n(Tr),vg=$n(to),xg=$n(er),_g=$n(Mr),Aa=hn?hn.prototype:f,Fr=Aa?Aa.valueOf:f,zu=Aa?Aa.toString:f,nr=function(){function e(){}return function(t){if(!Ae(t))return{};if(Ou)return Ou(t);e.prototype=t;var n=new e;return e.prototype=f,n}}();i.templateSettings={escape:Lc,evaluate:Ec,interpolate:zo,variable:"",imports:{_:i}},i.prototype=D.prototype,i.prototype.constructor=i,J.prototype=nr(D.prototype),J.prototype.constructor=J,P.prototype=nr(D.prototype),P.prototype.constructor=P,Mn.prototype.clear=Dd,Mn.prototype.delete=qd,Mn.prototype.get=Pd,Mn.prototype.has=Ud,Mn.prototype.set=zd,Xt.prototype.clear=Wd,Xt.prototype.delete=Bd,Xt.prototype.get=Vd,Xt.prototype.has=Hd,Xt.prototype.set=Zd,Qt.prototype.clear=Gd,Qt.prototype.delete=Kd,Qt.prototype.get=Yd,Qt.prototype.has=Jd,Qt.prototype.set=Xd,kn.prototype.add=kn.prototype.push=Qd,kn.prototype.has=ef,Dt.prototype.clear=tf,Dt.prototype.delete=nf,Dt.prototype.get=rf,Dt.prototype.has=af,Dt.prototype.set=of;var gn=Ws(Bt),Wu=Ws(bi,!0),no=Bs(),Bu=Bs(!0),Vu=Fa?function(e,t){return Fa.set(e,t),e}:ft,Cg=Ta?function(e,t){return Ta(e,"toString",{configurable:!0,enumerable:!1,value:Vi(t),writable:!0})}:ft,jg=se,Hu=ug||function(e){return Ke.clearTimeout(e)},wg=er&&1/sn(new er([,-0]))[1]==te?function(e){return new er(e)}:Gi,ro=Fa?function(e){return Fa.get(e)}:Gi,ao=Qi?function(e){return e==null?[]:(e=je(e),b(Qi(e),function(t){return Du.call(e,t)}))}:Ki,Zu=Qi?function(e){for(var t=[];e;)R(t,ao(e)),e=ja(e);return t}:Ki,Qe=nt;(eo&&Qe(new eo(new ArrayBuffer(1)))!=Vn||Tr&&Qe(new Tr)!=Et||to&&Qe(to.resolve())!=qo||er&&Qe(new er)!=Ot||Mr&&Qe(new Mr)!=mr)&&(Qe=function(e){var t=nt(e),n=t==Jt?e.constructor:f,r=n?$n(n):"";if(r)switch(r){case bg:return Vn;case yg:return Et;case vg:return qo;case xg:return Ot;case _g:return mr}return t});var Tg=ya?an:Yi,Gu=uu(Vu),Ar=cg||function(e,t){return Ke.setTimeout(e,t)},io=uu(Cg),Ku=tp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qc,function(n,r,o,c){t.push(o?c.replace(Zc,"$1"):r||n)}),t}),Mg=se(function(e,t){return De(e)?br(e,Ye(t,1,De,!0)):[]}),kg=se(function(e,t){var n=kt(t);return De(n)&&(n=f),De(e)?br(e,Ye(t,1,De,!0),Q(n,2)):[]}),Fg=se(function(e,t){var n=kt(t);return De(n)&&(n=f),De(e)?br(e,Ye(t,1,De,!0),f,n):[]}),Ag=se(function(e){var t=w(e,Ai);return t.length&&t[0]===e[0]?vi(t):[]}),Rg=se(function(e){var t=kt(e),n=w(e,Ai);return t===kt(n)?t=f:n.pop(),n.length&&n[0]===e[0]?vi(n,Q(t,2)):[]}),$g=se(function(e){var t=kt(e),n=w(e,Ai);return t=typeof t=="function"?t:f,t&&n.pop(),n.length&&n[0]===e[0]?vi(n,f,t):[]}),Sg=se(mu),Ng=nn(function(e,t){var n=e==null?0:e.length,r=gi(e,t);return Ss(e,w(t,function(o){return rn(o,n)?+o:o}).sort(Ps)),r}),Ig=se(function(e){return fn(Ye(e,1,De,!0))}),Lg=se(function(e){var t=kt(e);return De(t)&&(t=f),fn(Ye(e,1,De,!0),Q(t,2))}),Eg=se(function(e){var t=kt(e);return t=typeof t=="function"?t:f,fn(Ye(e,1,De,!0),f,t)}),Og=se(function(e,t){return De(e)?br(e,t):[]}),Dg=se(function(e){return Fi(b(e,De))}),qg=se(function(e){var t=kt(e);return De(t)&&(t=f),Fi(b(e,De),Q(t,2))}),Pg=se(function(e){var t=kt(e);return t=typeof t=="function"?t:f,Fi(b(e,De),f,t)}),Ug=se(Ui),zg=se(function(e){var t=e.length,n=t>1?e[t-1]:f;return n=typeof n=="function"?(e.pop(),n):f,hu(e,n)}),Wg=nn(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(c){return gi(c,e)};return!(t>1||this.__actions__.length)&&r instanceof P&&rn(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ca,args:[o],thisArg:f}),new J(r,this.__chain__).thru(function(c){return t&&!c.length&&c.push(f),c})):this.thru(o)}),Bg=na(function(e,t,n){be.call(e,n)?++e[n]:en(e,n,1)}),Vg=Hs(cu),Hg=Hs(du),Zg=na(function(e,t,n){be.call(e,n)?e[n].push(t):en(e,n,[t])}),Gg=se(function(e,t,n){var r=-1,o=typeof t=="function",c=ct(e)?We(e.length):[];return gn(e,function(m){c[++r]=o?l(t,m,n):yr(m,t,n)}),c}),Kg=na(function(e,t,n){en(e,n,t)}),Yg=na(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Jg=se(function(e,t){if(e==null)return[];var n=t.length;return n>1&&rt(e,t[0],t[1])?t=[]:n>2&&rt(t[0],t[1],t[2])&&(t=[t[0]]),Rs(e,Ye(t,1),[])}),Ra=lg||function(){return Ke.Date.now()},oo=se(function(e,t,n){var r=it;if(n.length){var o=gt(n,Yn(oo));r|=_t}return tn(e,r,t,n,o)}),Yu=se(function(e,t,n){var r=it|cn;if(n.length){var o=gt(n,Yn(Yu));r|=_t}return tn(t,r,e,n,o)}),Xg=se(function(e,t){return xs(e,1,t)}),Qg=se(function(e,t,n){return xs(e,Ft(t)||0,n)});fa.Cache=Qt;var eb=jg(function(e,t){t=t.length==1&&re(t[0])?w(t[0],Le(Q())):w(Ye(t,1),Le(Q()));var n=t.length;return se(function(r){for(var o=-1,c=Xe(r.length,n);++o<c;)r[o]=t[o].call(this,r[o]);return l(e,this,r)})}),so=se(function(e,t){return tn(e,_t,f,t,gt(t,Yn(so)))}),Ju=se(function(e,t){return tn(e,wn,f,t,gt(t,Yn(Ju)))}),tb=nn(function(e,t){return tn(e,dn,f,f,f,t)}),nb=oa(yi),rb=oa(function(e,t){return e>=t}),Nn=js(function(){return arguments}())?js:function(e){return Se(e)&&be.call(e,"callee")&&!Du.call(e,"callee")},re=We.isArray,ab=cs?Le(cs):yf,bn=dg||Yi,ib=ds?Le(ds):vf,Xu=fs?Le(fs):_f,uo=ps?Le(ps):Cf,Qu=ms?Le(ms):jf,rr=hs?Le(hs):wf,ob=oa(Ci),sb=oa(function(e,t){return e<=t}),ub=Gn(function(e,t){if(Cr(t)||ct(t))return Vt(t,Ge(t),e),f;for(var n in t)be.call(t,n)&&gr(e,n,t[n])}),el=Gn(function(e,t){Vt(t,dt(t),e)}),$a=Gn(function(e,t,n,r){Vt(t,dt(t),e,r)}),lb=Gn(function(e,t,n,r){Vt(t,Ge(t),e,r)}),cb=nn(gi),db=se(function(e,t){e=je(e);var n=-1,r=t.length,o=r>2?t[2]:f;for(o&&rt(t[0],t[1],o)&&(r=1);++n<r;)for(var c=t[n],m=dt(c),g=-1,_=m.length;++g<_;){var k=m[g],M=e[k];(M===f||qt(M,Qn[k])&&!be.call(e,k))&&(e[k]=c[k])}return e}),fb=se(function(e){return e.push(f,Qs),l(tl,f,e)}),pb=Gs(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=xa.call(t)),e[t]=n},Vi(ft)),mb=Gs(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=xa.call(t)),be.call(e,t)?e[t].push(n):e[t]=[n]},Q),hb=se(yr),gb=Gn(function(e,t,n){Qr(e,t,n)}),tl=Gn(function(e,t,n,r){Qr(e,t,n,r)}),bb=nn(function(e,t){var n={};if(e==null)return n;var r=!1;t=w(t,function(c){return c=pn(c,e),r||(r=c.length>1),c}),Vt(e,Li(e),n),r&&(n=Tt(n,xt|Pr|Yt,Wf));for(var o=t.length;o--;)ki(n,t[o]);return n}),yb=nn(function(e,t){return e==null?{}:kf(e,t)}),nl=Js(Ge),rl=Js(dt),vb=Kn(function(e,t,n){return t=t.toLowerCase(),e+(n?Ru(t):t)}),xb=Kn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),_b=Kn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Cb=Vs("toLowerCase"),jb=Kn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),wb=Kn(function(e,t,n){return e+(n?" ":"")+lo(t)}),Tb=Kn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),lo=Vs("toUpperCase"),al=se(function(e,t){try{return l(e,f,t)}catch(n){return zi(n)?n:new Ji(n)}}),Mb=nn(function(e,t){return d(t,function(n){n=Ht(n),en(e,n,oo(e[n],e))}),e}),kb=Zs(),Fb=Zs(!0),Ab=se(function(e,t){return function(n){return yr(n,e,t)}}),Rb=se(function(e,t){return function(n){return yr(e,n,t)}}),$b=Si(w),Sb=Si(h),Nb=Si(A),Ib=Ks(),Lb=Ks(!0),Eb=aa(function(e,t){return e+t},0),Ob=Ni("ceil"),Db=aa(function(e,t){return e/t},1),qb=Ni("floor"),Pb=aa(function(e,t){return e*t},1),Ub=Ni("round"),zb=aa(function(e,t){return e-t},0);return i.after=mm,i.ary=vu,i.assign=ub,i.assignIn=el,i.assignInWith=$a,i.assignWith=lb,i.at=cb,i.before=xu,i.bind=oo,i.bindAll=Mb,i.bindKey=Yu,i.castArray=Cm,i.chain=gu,i.chunk=sp,i.compact=up,i.concat=lp,i.cond=Ih,i.conforms=Lh,i.constant=Vi,i.countBy=Bg,i.create=Vm,i.curry=_u,i.curryRight=Cu,i.debounce=ju,i.defaults=db,i.defaultsDeep=fb,i.defer=Xg,i.delay=Qg,i.difference=Mg,i.differenceBy=kg,i.differenceWith=Fg,i.drop=cp,i.dropRight=dp,i.dropRightWhile=fp,i.dropWhile=pp,i.fill=mp,i.filter=em,i.flatMap=tm,i.flatMapDeep=nm,i.flatMapDepth=rm,i.flatten=fu,i.flattenDeep=hp,i.flattenDepth=gp,i.flip=hm,i.flow=kb,i.flowRight=Fb,i.fromPairs=bp,i.functions=Xm,i.functionsIn=Qm,i.groupBy=Zg,i.initial=vp,i.intersection=Ag,i.intersectionBy=Rg,i.intersectionWith=$g,i.invert=pb,i.invertBy=mb,i.invokeMap=Gg,i.iteratee=Hi,i.keyBy=Kg,i.keys=Ge,i.keysIn=dt,i.map=da,i.mapKeys=th,i.mapValues=nh,i.matches=Oh,i.matchesProperty=Dh,i.memoize=fa,i.merge=gb,i.mergeWith=tl,i.method=Ab,i.methodOf=Rb,i.mixin=Zi,i.negate=pa,i.nthArg=Ph,i.omit=bb,i.omitBy=rh,i.once=gm,i.orderBy=im,i.over=$b,i.overArgs=eb,i.overEvery=Sb,i.overSome=Nb,i.partial=so,i.partialRight=Ju,i.partition=Yg,i.pick=yb,i.pickBy=Au,i.property=Nu,i.propertyOf=Uh,i.pull=Sg,i.pullAll=mu,i.pullAllBy=jp,i.pullAllWith=wp,i.pullAt=Ng,i.range=Ib,i.rangeRight=Lb,i.rearg=tb,i.reject=um,i.remove=Tp,i.rest=bm,i.reverse=Pi,i.sampleSize=cm,i.set=ih,i.setWith=oh,i.shuffle=dm,i.slice=Mp,i.sortBy=Jg,i.sortedUniq=Np,i.sortedUniqBy=Ip,i.split=wh,i.spread=ym,i.tail=Lp,i.take=Ep,i.takeRight=Op,i.takeRightWhile=Dp,i.takeWhile=qp,i.tap=Vp,i.throttle=vm,i.thru=ca,i.toArray=Mu,i.toPairs=nl,i.toPairsIn=rl,i.toPath=Hh,i.toPlainObject=Fu,i.transform=sh,i.unary=xm,i.union=Ig,i.unionBy=Lg,i.unionWith=Eg,i.uniq=Pp,i.uniqBy=Up,i.uniqWith=zp,i.unset=uh,i.unzip=Ui,i.unzipWith=hu,i.update=lh,i.updateWith=ch,i.values=Jn,i.valuesIn=dh,i.without=Og,i.words=Su,i.wrap=_m,i.xor=Dg,i.xorBy=qg,i.xorWith=Pg,i.zip=Ug,i.zipObject=Wp,i.zipObjectDeep=Bp,i.zipWith=zg,i.entries=nl,i.entriesIn=rl,i.extend=el,i.extendWith=$a,Zi(i,i),i.add=Eb,i.attempt=al,i.camelCase=vb,i.capitalize=Ru,i.ceil=Ob,i.clamp=fh,i.clone=jm,i.cloneDeep=Tm,i.cloneDeepWith=Mm,i.cloneWith=wm,i.conformsTo=km,i.deburr=$u,i.defaultTo=Eh,i.divide=Db,i.endsWith=hh,i.eq=qt,i.escape=gh,i.escapeRegExp=bh,i.every=Qp,i.find=Vg,i.findIndex=cu,i.findKey=Hm,i.findLast=Hg,i.findLastIndex=du,i.findLastKey=Zm,i.floor=qb,i.forEach=bu,i.forEachRight=yu,i.forIn=Gm,i.forInRight=Km,i.forOwn=Ym,i.forOwnRight=Jm,i.get=Wi,i.gt=nb,i.gte=rb,i.has=eh,i.hasIn=Bi,i.head=pu,i.identity=ft,i.includes=am,i.indexOf=yp,i.inRange=ph,i.invoke=hb,i.isArguments=Nn,i.isArray=re,i.isArrayBuffer=ab,i.isArrayLike=ct,i.isArrayLikeObject=De,i.isBoolean=Fm,i.isBuffer=bn,i.isDate=ib,i.isElement=Am,i.isEmpty=Rm,i.isEqual=$m,i.isEqualWith=Sm,i.isError=zi,i.isFinite=Nm,i.isFunction=an,i.isInteger=wu,i.isLength=ma,i.isMap=Xu,i.isMatch=Im,i.isMatchWith=Lm,i.isNaN=Em,i.isNative=Om,i.isNil=qm,i.isNull=Dm,i.isNumber=Tu,i.isObject=Ae,i.isObjectLike=Se,i.isPlainObject=jr,i.isRegExp=uo,i.isSafeInteger=Pm,i.isSet=Qu,i.isString=ha,i.isSymbol=yt,i.isTypedArray=rr,i.isUndefined=Um,i.isWeakMap=zm,i.isWeakSet=Wm,i.join=xp,i.kebabCase=xb,i.last=kt,i.lastIndexOf=_p,i.lowerCase=_b,i.lowerFirst=Cb,i.lt=ob,i.lte=sb,i.max=Gh,i.maxBy=Kh,i.mean=Yh,i.meanBy=Jh,i.min=Xh,i.minBy=Qh,i.stubArray=Ki,i.stubFalse=Yi,i.stubObject=zh,i.stubString=Wh,i.stubTrue=Bh,i.multiply=Pb,i.nth=Cp,i.noConflict=qh,i.noop=Gi,i.now=Ra,i.pad=yh,i.padEnd=vh,i.padStart=xh,i.parseInt=_h,i.random=mh,i.reduce=om,i.reduceRight=sm,i.repeat=Ch,i.replace=jh,i.result=ah,i.round=Ub,i.runInContext=y,i.sample=lm,i.size=fm,i.snakeCase=jb,i.some=pm,i.sortedIndex=kp,i.sortedIndexBy=Fp,i.sortedIndexOf=Ap,i.sortedLastIndex=Rp,i.sortedLastIndexBy=$p,i.sortedLastIndexOf=Sp,i.startCase=wb,i.startsWith=Th,i.subtract=zb,i.sum=eg,i.sumBy=tg,i.template=Mh,i.times=Vh,i.toFinite=on,i.toInteger=oe,i.toLength=ku,i.toLower=kh,i.toNumber=Ft,i.toSafeInteger=Bm,i.toString=ge,i.toUpper=Fh,i.trim=Ah,i.trimEnd=Rh,i.trimStart=$h,i.truncate=Sh,i.unescape=Nh,i.uniqueId=Zh,i.upperCase=Tb,i.upperFirst=lo,i.each=bu,i.eachRight=yu,i.first=pu,Zi(i,function(){var e={};return Bt(i,function(t,n){be.call(i.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),i.VERSION=Pn,d(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){i[e].placeholder=i}),d(["drop","take"],function(e,t){P.prototype[e]=function(n){n=n===f?1:Be(oe(n),0);var r=this.__filtered__&&!t?new P(this):this.clone();return r.__filtered__?r.__takeCount__=Xe(n,r.__takeCount__):r.__views__.push({size:Xe(n,Oe),type:e+(r.__dir__<0?"Right":"")}),r},P.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),d(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==zr||n==Ka;P.prototype[e]=function(o){var c=this.clone();return c.__iteratees__.push({iteratee:Q(o,3),type:n}),c.__filtered__=c.__filtered__||r,c}}),d(["head","last"],function(e,t){var n="take"+(t?"Right":"");P.prototype[e]=function(){return this[n](1).value()[0]}}),d(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");P.prototype[e]=function(){return this.__filtered__?new P(this):this[n](1)}}),P.prototype.compact=function(){return this.filter(ft)},P.prototype.find=function(e){return this.filter(e).head()},P.prototype.findLast=function(e){return this.reverse().find(e)},P.prototype.invokeMap=se(function(e,t){return typeof e=="function"?new P(this):this.map(function(n){return yr(n,e,t)})}),P.prototype.reject=function(e){return this.filter(pa(Q(e)))},P.prototype.slice=function(e,t){e=oe(e);var n=this;return n.__filtered__&&(e>0||t<0)?new P(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==f&&(t=oe(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},P.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},P.prototype.toArray=function(){return this.take(Oe)},Bt(P.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=i[r?"take"+(t=="last"?"Right":""):t],c=r||/^find/.test(t);o&&(i.prototype[t]=function(){var m=this.__wrapped__,g=r?[1]:arguments,_=m instanceof P,k=g[0],M=_||re(m),$=function(ue){var le=o.apply(i,R([ue],g));return r&&E?le[0]:le};M&&n&&typeof k=="function"&&k.length!=1&&(_=M=!1);var E=this.__chain__,U=!!this.__actions__.length,G=c&&!E,ae=_&&!U;if(!c&&M){m=ae?m:new P(this);var Y=e.apply(m,g);return Y.__actions__.push({func:ca,args:[$],thisArg:f}),new J(Y,E)}return G&&ae?e.apply(this,g):(Y=this.thru($),G?r?Y.value()[0]:Y.value():Y)})}),d(["pop","push","shift","sort","splice","unshift"],function(e){var t=ba[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);i.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var c=this.value();return t.apply(re(c)?c:[],o)}return this[n](function(m){return t.apply(re(m)?m:[],o)})}}),Bt(P.prototype,function(e,t){var n=i[t];if(n){var r=n.name+"";be.call(tr,r)||(tr[r]=[]),tr[r].push({name:t,func:n})}}),tr[ra(f,cn).name]=[{name:"wrapper",func:f}],P.prototype.clone=ut,P.prototype.reverse=mi,P.prototype.value=Od,i.prototype.at=Wg,i.prototype.chain=Hp,i.prototype.commit=Zp,i.prototype.next=Gp,i.prototype.plant=Yp,i.prototype.reverse=Jp,i.prototype.toJSON=i.prototype.valueOf=i.prototype.value=Xp,i.prototype.first=i.prototype.head,wr&&(i.prototype[wr]=Kp),i},Zn=Ed();Tn?((Tn.exports=Zn)._=Zn,fi._=Zn):Ke._=Zn}).call(Sr)})(qa,qa.exports);var O_=qa.exports,Rl=O_.runInContext(),pe=Wx(Rl,Rl);const _c=/^[A-Za-z][_0-9A-Za-z]*$/,Cc=a=>({name:"attributeNameAlreadyUsed",message:$e.unique.id,test(s){if(!s)return!1;const l=pe.snakeCase(s);return!a.some(p=>pe.snakeCase(p)===l)}}),Fo=a=>({name:"forbiddenAttributeName",message:C("error.attributeName.reserved-name"),test(s){if(!s)return!1;const l=pe.snakeCase(s);return!a.some(p=>pe.snakeCase(p)===l)}}),N={default:()=>we().nullable(),max:()=>Pt().integer().nullable(),min:()=>Pt().integer().when("max",(a,s)=>a?s.max(a,C("error.validation.minSupMax")):s).nullable(),maxLength:()=>Pt().integer().positive(C("error.validation.positive")).nullable(),minLength:()=>Pt().integer().min(1).when("maxLength",(a,s)=>a?s.max(a,C("error.validation.minSupMax")):s).nullable(),name(a,s){return we().test(Cc(a)).test(Fo(s)).matches(_c,$e.regex.id).required($e.required.id)},required:()=>Lr(),type:()=>we().required($e.required.id),unique:()=>Lr().nullable()},bo=(a,s)=>({name:N.name(a,s),type:N.type(),default:N.default(),unique:N.unique(),required:N.required(),maxLength:N.maxLength(),minLength:N.minLength(),regex:we().test({name:"isValidRegExpPattern",message:C("error.validation.regex"),test(p){try{return new RegExp(p||"")!==null}catch{return!1}}}).nullable()}),yo=()=>({name:"isMinSuperiorThanMax",message:C("error.validation.minSupMax"),test(a){if(!a)return!0;const{max:s}=this.parent;return!s||Number.isNaN(po(a))?!0:po(s)>=po(a)}}),La={date(a,s){const l={name:N.name(a,s),type:N.type()};return Fe(l)},datetime(a,s){const l={name:N.name(a,s),type:N.type()};return Fe(l)},time(a,s){const l={name:N.name(a,s),type:N.type()};return Fe(l)},default(a,s){const l={name:N.name(a,s),type:N.type()};return Fe(l)},biginteger(a,s){const l={name:N.name(a,s),type:N.type(),default:we().nullable().matches(/^-?\d*$/),unique:N.unique(),required:N.required(),max:we().nullable().matches(/^-?\d*$/,$e.regex.id),min:we().nullable().test(yo()).matches(/^-?\d*$/,$e.regex.id)};return Fe(l)},boolean(a,s){const l={name:N.name(a,s),default:Lr().nullable(),required:N.required(),unique:N.unique()};return Fe(l)},component(a,s){const l={name:N.name(a,s),type:N.type(),required:N.required(),max:N.max(),min:N.min(),component:we().required($e.required.id)};return Fe(l)},decimal(a,s){const l={name:N.name(a,s),type:N.type(),default:Pt(),required:N.required(),max:Pt(),min:Pt().test(yo())};return Fe(l)},dynamiczone(a,s){const l={name:N.name(a,s),type:N.type(),required:N.required(),max:N.max(),min:N.min()};return Fe(l)},email(a,s){const l={name:N.name(a,s),type:N.type(),default:we().email().nullable(),unique:N.unique(),required:N.required(),maxLength:N.maxLength(),minLength:N.minLength()};return Fe(l)},enumeration(a,s){const l=/^[_A-Za-z][_0-9A-Za-z]*$/,p={name:we().test(Cc(a)).test(Fo(s)).matches(l,$e.regex.id).required($e.required.id),type:N.type(),default:N.default(),unique:N.unique(),required:N.required(),enum:ml().of(we()).min(1,$e.min.id).test({name:"areEnumValuesUnique",message:C("error.validation.enum-duplicate"),test(d){return d?!E_(d.map(go).filter((h,b,x)=>x.indexOf(h)!==b)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:C("error.validation.enum-empty-string"),test:d=>d?!d.map(go).some(v=>v===""):!1}).test({name:"doesMatchRegex",message:C("error.validation.enum-regex"),test:d=>d?d.map(go).every(v=>l.test(v)):!1}),enumName:we().nullable()};return Fe(p)},float(a,s){const l={name:N.name(a,s),type:N.type(),required:N.required(),default:Pt(),max:Pt(),min:Pt().test(yo())};return Fe(l)},integer(a,s){const l={name:N.name(a,s),type:N.type(),default:Pt().integer(),unique:N.unique(),required:N.required(),max:N.max(),min:N.min()};return Fe(l)},json(a,s){const l={name:N.name(a,s),type:N.type(),required:N.required(),unique:N.unique()};return Fe(l)},media(a,s){const l={name:N.name(a,s),type:N.type(),multiple:Lr(),required:N.required(),allowedTypes:ml().of(we().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Fe(l)},password(a,s){const l={name:N.name(a,s),type:N.type(),default:N.default(),unique:N.unique(),required:N.required(),maxLength:N.maxLength(),minLength:N.minLength()};return Fe(l)},relation(a,s,l,{initialData:p,modifiedData:d}){const v={name:N.name(a,s),target:we().required($e.required.id),relation:we().required(),type:we().required(),targetAttribute:Bx(()=>{const h=Eo(d.relation,d.targetAttribute);if(h==="oneWay"||h==="manyWay")return we().nullable();const b=we().test(Fo(s)),j=[...l.map(({name:w})=>w),d.name].filter(w=>w!==p.targetAttribute);return b.matches(_c,$e.regex.id).test({name:"forbiddenTargetAttributeName",message:C("error.validation.relation.targetAttribute-taken"),test(w){return w?!j.includes(w):!1}}).required($e.required.id)})};return Fe(v)},richtext(a,s){const l={name:N.name(a,s),type:N.type(),default:N.default(),unique:N.unique(),required:N.required(),maxLength:N.maxLength(),minLength:N.minLength()};return Fe(l)},blocks(a,s){const l={name:N.name(a,s),type:N.type(),default:N.default(),unique:N.unique(),required:N.required(),maxLength:N.maxLength(),minLength:N.minLength()};return Fe(l)},string(a,s){const l=bo(a,s);return Fe(l)},text(a,s){const l=bo(a,s);return Fe(l)},uid(a,s){const l=bo(a,s);return Fe(l)}},D_=/^[A-Za-z][-_0-9A-Za-z]*$/,q_=(a,s,l,p,d)=>{const v={displayName:we().test({name:"nameAlreadyUsed",message:$e.unique.id,test(h){if(!h)return!1;const b=Nr(h,l),x=pe.snakeCase(b),j=pe.snakeCase(d);return a.every(w=>pe.snakeCase(w)!==x)&&p.every(w=>pe.snakeCase(w)!==j)}}).test({name:"nameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const b=pe.snakeCase(h);return s.every(x=>pe.snakeCase(x)!==b)}}).required($e.required.id),category:we().matches(D_,$e.regex.id).required($e.required.id),icon:we()};return Fe(v)},$l={name:"displayName",type:"text",intlLabel:{id:C("contentType.displayName.label"),defaultMessage:"Display name"}},vo={advanced:{default(){return{sections:[{items:[{intlLabel:{id:C("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:C("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[$l,{description:{id:C("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:C("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:C("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:C("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[$l,{disabled:!0,description:{id:C("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:C("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:C("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:C("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:C("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:C("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:C("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:C("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},P_=({usedContentTypeNames:a=[],reservedModels:s=[],singularNames:l=[],pluralNames:p=[],collectionNames:d=[]})=>{const v={displayName:we().test({name:"nameAlreadyUsed",message:$e.unique.id,test(h){if(!h)return!1;const b=oc(h),x=pe.snakeCase(b);return!a.some(j=>pe.snakeCase(j)===x)}}).test({name:"nameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const b=pe.snakeCase(h);return!s.some(x=>pe.snakeCase(x)===b)}}).required($e.required.id),pluralName:we().test({name:"pluralNameAlreadyUsed",message:$e.unique.id,test(h){if(!h)return!1;const b=pe.snakeCase(h);return!p.some(x=>pe.snakeCase(x)===b)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:C("error.contentType.pluralName-equals-singularName"),test(h){if(!h)return!1;const b=pe.snakeCase(h);return!l.some(x=>pe.snakeCase(x)===b)}}).test({name:"pluralAndSingularAreUnique",message:C("error.contentType.pluralName-used"),test(h,b){return h?pe.snakeCase(b.parent.singularName)!==pe.snakeCase(h):!1}}).test({name:"pluralNameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const b=pe.snakeCase(h);return!s.some(x=>pe.snakeCase(x)===b)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:C("error.contentType.pluralName-equals-collectionName"),test(h){if(!h)return!1;const b=pe.snakeCase(h);return!d.some(x=>pe.snakeCase(x)===b)}}).required($e.required.id),singularName:we().test({name:"singularNameAlreadyUsed",message:$e.unique.id,test(h){if(!h)return!1;const b=pe.snakeCase(h);return!l.some(x=>pe.snakeCase(x)===b)}}).test({name:"singularNameAlreadyUsedAsPlural",message:C("error.contentType.singularName-equals-pluralName"),test(h){if(!h)return!1;const b=pe.snakeCase(h);return!p.some(x=>pe.snakeCase(x)===b)}}).test({name:"pluralAndSingularAreUnique",message:C("error.contentType.singularName-used"),test(h,b){return h?pe.snakeCase(b.parent.pluralName)!==pe.snakeCase(h):!1}}).test({name:"singularNameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const b=pe.snakeCase(h);return!s.some(x=>pe.snakeCase(x)===b)}}).required($e.required.id),draftAndPublish:Lr(),kind:we().oneOf(["singleType","collectionType"])};return Fe(v)},xo={advanced:{default(){return{sections:ar.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[ko]},...ar.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[ko]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:C("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Sl=(a,s)=>{a.forEach(l=>{if(!("sectionTitle"in l)){s[0].items?.push(l);return}s.push(l)})},U_=(a,s)=>`components_${pe.snakeCase(s)}_${Oa(pe.snakeCase(a))}`,Nl=(a,s)=>a.filter(({name:l})=>l!==s.initialData.name).map(({name:l})=>l),Ln={customField:{schema({schemaAttributes:a,attributeType:s,customFieldValidator:l,reservedNames:p,schemaData:d,ctbFormsAPI:v}){const h=Nl(a,d);let b;return s==="relation"?b=La[s](h,p.attributes,[],{initialData:{},modifiedData:{}}):b=La[s](h,p.attributes),v.makeCustomFieldValidator(b,l,h,p.attributes,d)},form:{base({customField:a}){const s=[{sectionTitle:null,items:[Zt]}];return a.options?.base&&Sl(a.options.base,s),{sections:s}},advanced({customField:a,data:s,step:l,extensions:p,...d}){const v=[{sectionTitle:null,items:[]}],h=p.getAdvancedForm(["attribute",a.type],{data:s,type:a.type,step:l,...d});if(a.options?.advanced&&Sl(a.options.advanced,v),h){const b={sectionTitle:{id:C("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:h};v.push(b)}return{sections:v}}}},attribute:{schema(a,s,l,p,d,v){const h=a?.attributes??[],b=Nl(h,d);try{const x=La[s](b,l.attributes,p,d);return v.makeValidator(["attribute",s],x,b,l.attributes,p,d)}catch(x){return console.error("Error yup build schema",x),La.default(b,l.attributes)}},form:{advanced({data:a,type:s,step:l,extensions:p,...d}){try{const v=Al.advanced[s](a,l).sections,h=p.getAdvancedForm(["attribute",s],{data:a,type:s,step:l,...d});return{sections:v.reduce((x,j)=>(j.sectionTitle===null?x.push(j):x.push({...j,items:[...j.items,...h]}),x),[])}}catch(v){return console.error(v),{sections:[]}}},base({data:a,type:s,step:l,attributes:p}){try{return Al.base[s](a,l,p)}catch{return g_}}}},contentType:{schema(a,s,l,p,d,v){const h=Object.values(v).map(A=>A.info.singularName),b=Object.values(v).map(A=>A?.info?.pluralName??""),x=s?a.filter(A=>A!==l):a,j=s?h.filter(A=>{const{info:V}=v[l];return V.singularName!==A}):h,w=s?b.filter(A=>{const{info:V}=v[l];return V.pluralName!==A}):b,R=Object.values(v).map(A=>A?.collectionName??""),q=s?R.filter(A=>{const{collectionName:V}=v[l];return A!==V}):R,O=P_({usedContentTypeNames:x,reservedModels:p.models,singularNames:j,pluralNames:w,collectionNames:q});return d.makeValidator(["contentType"],O,x,p.models,j,w)},form:{base({actionType:a}){return a==="create"?vo.base.create():vo.base.edit()},advanced({extensions:a}){const s=vo.advanced.default().sections.map(p=>p.items).flat(),l=a.getAdvancedForm(["contentType"]);return{sections:[{items:[...s,...l]}]}}}},component:{schema(a,s,l,p=!1,d,v,h=null){const b=p?a.filter(R=>R!==h):a,x=Object.values(d).map(R=>R?.collectionName),j=U_(v,s),w=p?x.filter(R=>R!==j):x;return q_(b,l.models,s,w,j)},form:{advanced(){return{sections:ar.advanced()}},base(){return{sections:ar.base()}}}},addComponentToDynamicZone:{form:{advanced(){return xo.advanced.default()},base({data:a}){return a?.createComponent??!1?xo.base.createComponent():xo.base.default()}}}},z_=(a,s)=>{const l=a.kind;return l==="singleType"||l===s.kind?!0:(a?.attributes??[]).filter(v=>{if(v.type!=="relation")return!1;const{relation:h,targetAttribute:b}=v,x=Eo(h,b);return!["oneWay","manyWay"].includes(x||"")}).length===0},W_=(a="",s,l)=>{const p=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],d=a==="contentType";if(d)return[[...p.slice(0,-1),"uid",...p.slice(-1)],["component","dynamiczone"]];if(a){const h=xc(s,l)>=ac;if(!d&&!h)return[p,["component"]]}return[p]},Il=a=>a.reduce((s,l)=>{const p=l.items.reduce((d,v)=>(v.name&&d.push(v.name),d),[]);return[...s,...p]},[]),B_=St.form`
  overflow: auto;
`,V_=a=>a["content-type-builder_formModal"]||Vx,H_=()=>{const{onCloseModal:a,onNavigateToChooseAttributeModal:s,onNavigateToAddCompoToDZModal:l,onNavigateToCreateComponentStep2:p,actionType:d,attributeName:v,attributeType:h,customFieldUid:b,dynamicZoneTarget:x,forTarget:j,modalType:w,isOpen:R,kind:q,step:O,targetUid:A,showBackLink:V,activeTab:S,setActiveTab:I}=ir(),L=Ir("FormModal",te=>te.getPlugin),X=Ir("FormModal",te=>te.customFields.get)(b),ee=za(),{toggleNotification:ve}=No(),Me=Dl(V_,Hx),Pe=Zx(),{trackUsage:xe}=Pa(),{formatMessage:Je}=me(),fe=L(vn)?.apis.forms,W=fe.components.inputs,{addAttribute:Ve,editAttribute:Le,addCustomFieldAttribute:Z,addCreatedComponentToDynamicZone:ce,changeDynamicZoneComponents:zt,contentTypes:vt,components:mt,createSchema:or,createComponentSchema:z,deleteComponent:ke,deleteContentType:Nt,editCustomFieldAttribute:It,updateSchema:ht,nestedComponents:Kt,sortedContentTypesList:gt,updateComponentSchema:sn,updateComponentUid:Wa,reservedNames:un}=Gt(),{componentToCreate:sr,formErrors:at,initialData:Ue,isCreatingComponentWhileAddingAField:qn,modifiedData:H}=Me,he=j==="component"?mt[A]:vt[A];K.useEffect(()=>{if(R){const te=gt.filter(lc);d==="edit"&&w==="attribute"&&j==="contentType"&&xe("willEditFieldOfContentType");const Ee=jo(Ie(he,"schema.attributes",[]),x)||null;if(w==="contentType"&&d==="create"&&ee(qe.setDataToEdit({data:{draftAndPublish:!0}})),w==="contentType"&&d==="edit"&&ee(qe.setDataToEdit({data:{displayName:he.info.displayName,draftAndPublish:he.options?.draftAndPublish,kind:"kind"in he&&he.kind,pluginOptions:he.pluginOptions,pluralName:"pluralName"in he.info&&he.info.pluralName,singularName:"singularName"in he.info&&he.info.singularName}})),w==="component"&&d==="edit"&&ee(qe.setDataToEdit({data:{displayName:he.info.displayName,category:"category"in he&&he.category,icon:he.info.icon}})),w==="addComponentToDynamicZone"&&d==="edit"){const ot={...Ee,components:[],name:x,createComponent:!1,componentToCreate:{type:"component"}};ee(qe.setDynamicZoneDataSchema({attributeToEdit:ot}))}if(h){const de={...jo(Ie(he,["attributes"],[]),v),name:v};h==="component"&&d==="edit"&&(!("repeatable"in de)||!de.repeatable)&&Gx(de,"repeatable",!1),ee(w==="customField"?d==="edit"?qe.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:de,uid:he.uid}):qe.setCustomFieldDataSchema({customField:Kx(X,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:de,uid:he.uid}):qe.setAttributeDataSchema({attributeType:h,nameToSetForRelation:Ie(te,["0","title"],"error"),targetUid:Ie(te,["0","uid"],"error"),isEditing:d==="edit",modifiedDataToSetForEditing:de,step:O,uid:he.uid}))}}else ee(qe.resetProps())},[d,v,h,x,j,R,w]);const ur=w==="contentType",f=w==="component",Pn=w==="attribute",Un=w==="customField",Dr=h==="component"&&Pn,He=d==="create",ln=Ie(H,"createComponent",!1)||qn,Wt=O==="1",qr=w==="chooseAttribute",Cn=oc(H.displayName||""),xt=Ie(he,["attributes"],null),Pr=async()=>{let te;const Ee=ln&&O==="1"?Ie(H,"componentToCreate",{}):H;if(ur)te=Ln.contentType.schema(Object.keys(vt),d==="edit",he?.uid??null,un,fe,vt);else if(f)te=Ln.component.schema(Object.keys(mt),H.category||"",un,d==="edit",mt,H.displayName||"",he?.uid??null);else if(Un)te=Ln.customField.schema({schemaAttributes:Ie(he,["attributes"],[]),attributeType:X.type,reservedNames:un,schemaData:{modifiedData:H,initialData:Ue},ctbFormsAPI:fe,customFieldValidator:X.options?.validator});else if(Dr&&ln&&Wt)te=Ln.component.schema(Object.keys(mt),Ie(H,"componentToCreate.category",""),un,d==="edit",mt,H.componentToCreate.displayName||"");else if(Pn&&!Wt){const ot=h==="relation"?"relation":H.type;let de=[];if(ot==="relation"){const Oe=Ie(H,["target"],null);de=Ie(vt,[Oe,"attributes"],[]).filter(({name:jt})=>d!=="edit"?!0:jt!==Ue.targetAttribute)}te=Ln.attribute.schema(he,ot,un,de,{modifiedData:H,initialData:Ue},fe)}else if(Wt&&ln)te=Ln.component.schema(Object.keys(mt),Ie(H,"componentToCreate.category",""),un,d==="edit",mt,H.componentToCreate.displayName||"");else return;await te.validate(Ee,{abortEarly:!1})},Yt=K.useCallback(({target:{name:te,value:Ee,type:ot,...de}})=>{const Oe=["enumName","max","min","maxLength","minLength","regex","default"];let st;Oe.includes(te)&&Ee===""?st=null:st=Ee;const jt=Object.assign({},at);te==="max"&&delete jt.min,te==="maxLength"&&delete jt.minLength,delete jt[te],ee(qe.setErrors({errors:jt})),ee(qe.onChange({keys:te.split("."),value:st}))},[ee,at]),Ze=async(te,Ee=He)=>{te.preventDefault();try{await Pr(),ee(qe.setErrors({errors:{}})),Ur(Ee);const ot=A;if(ur)if(He)or({data:{kind:q,displayName:H.displayName,draftAndPublish:H.draftAndPublish,pluginOptions:H.pluginOptions,singularName:H.singularName,pluralName:H.pluralName},uid:Cn}),Pe({pathname:`/plugins/${vn}/content-types/${Cn}`}),a();else{const de=he;z_(de,H)?(a(),await ht({uid:de.uid,data:{displayName:H.displayName,kind:H.kind,draftAndPublish:H.draftAndPublish,pluginOptions:H.pluginOptions}})):ve({type:"danger",message:Je({id:"notification.contentType.relations.conflict"})});return}else if(w==="component")if(He){const de=Nr(H.displayName,H.category),{category:Oe,...st}=H;z({data:{displayName:st.displayName,icon:st.icon},uid:de,componentCategory:Oe}),Pe({pathname:`/plugins/${vn}/component-categories/${Oe}/${de}`}),a();return}else{if(sn({data:{icon:H.icon,displayName:H.displayName},componentUID:A}),he.status==="NEW"){const de=Nr(H.displayName,H.category);Wa({componentUID:A,newComponentUID:de}),Pe({pathname:`/plugins/${vn}/component-categories/${H.category}/${de}`})}a();return}else if(Un){const de={attributeToSet:{...H,customField:b},forTarget:j,targetUid:A,name:Ue.name};d==="edit"?It(de):Z(de),Ee?s({forTarget:j,targetUid:ot}):a();return}else if(Pn&&!ln){if(h==="dynamiczone"){d==="create"?Ve({attributeToSet:H,forTarget:j,targetUid:A}):Le({attributeToSet:H,forTarget:j,targetUid:A,name:Ue.name}),He?(ee(qe.resetPropsAndSetTheFormForAddingACompoToADz()),I("basic"),l({dynamicZoneTarget:H.name})):a();return}if(!Dr){d==="create"?Ve({attributeToSet:H,forTarget:j,targetUid:A}):Le({attributeToSet:H,forTarget:j,targetUid:A,name:Ue.name}),Ee?s({forTarget:j,targetUid:ot}):a();return}if(Wt){p(),ee(qe.resetPropsAndSetFormForAddingAnExistingCompo({uid:he.uid}));return}d==="create"?Ve({attributeToSet:H,forTarget:j,targetUid:A}):Le({attributeToSet:H,forTarget:j,targetUid:A,name:Ue.name}),Ee?s({forTarget:j,targetUid:A}):a()}else if(Pn&&ln){if(Wt){xe("willCreateComponentFromAttributesModal"),ee(qe.resetPropsAndSaveCurrentData({uid:he.uid})),p();return}const{category:de,...Oe}=sr,st=Nr(sr.displayName,de);z({data:{icon:Oe.icon,displayName:Oe.displayName},uid:st,componentCategory:de}),Ve({attributeToSet:H,forTarget:j,targetUid:A}),ee(qe.resetProps()),Ee?s({forTarget:"component",targetUid:st}):a();return}else{if(Wt)if(ln){const{category:de,type:Oe,...st}=H.componentToCreate,jt=Nr(H.componentToCreate.displayName,de);z({data:st,uid:jt,componentCategory:de}),ce({forTarget:j,targetUid:A,dynamicZoneTarget:x,componentsToAdd:[jt]}),s({forTarget:"component",targetUid:jt})}else zt({forTarget:j,targetUid:A,dynamicZoneTarget:x,newComponents:H.components}),a();else console.error("This case is not handled");return}ee(qe.resetProps())}catch(ot){if(Yx.isError(ot)){const de=F0(ot);ee(qe.setErrors({errors:de}))}}},zn=()=>{window.confirm(Je({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(a(),ee(qe.resetProps()))},it=()=>{Ea(H,Ue)?(a(),ee(qe.resetProps())):zn()},cn=te=>{if(te==="advanced"){if(ur){xe("didSelectContentTypeSettings");return}j==="contentType"&&xe("didSelectContentTypeFieldSettings")}},Ur=te=>{w==="attribute"&&j==="contentType"&&h!=="dynamiczone"&&te&&xe("willAddMoreFieldToContentType")},Lt=()=>!!(w==="component"||Jx(H,"createComponent")),jn=W_(j,A,Kt);if(!w)return null;const _t=Ie(Ln,[w,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),wn=j==="component",Ct={customInputs:{"allowed-types-select":R0,"boolean-radio-group":B0,"checkbox-with-number-field":V0,"icon-picker":e1,"content-type-radio-group":H0,"radio-group":Oo,relation:u_,"select-category":l_,"select-component":c_,"select-components":d_,"select-default-boolean":z0,"select-number":p_,"select-date":f_,"toggle-draft-publish":Z0,"text-plural":t1,"text-singular":m_,"textarea-enum":h_,...W},componentToCreate:sr,dynamicZoneTarget:x,formErrors:at,isAddingAComponentToAnotherComponent:wn,isCreatingComponentWhileAddingAField:qn,mainBoxHeader:Ie(he,["info","displayName"],""),modifiedData:H,naturePickerType:j,isCreating:He,targetUid:A,forTarget:j},dn=_t.advanced({data:H,type:h,step:O,actionType:d,attributes:xt,extensions:fe,forTarget:j,contentTypeSchema:he||{},customField:X}).sections,Wn=_t.base({data:H,type:h,step:O,actionType:d,attributes:xt,extensions:fe,forTarget:j,contentTypeSchema:he||{},customField:X}).sections,Ba=Il(Wn),Va=Il(dn),Ha=Object.keys(at).some(te=>Ba.includes(te)),Za=Object.keys(at).some(te=>Va.includes(te)),zr=Ie(vt,[A,"kind"]),Ga=()=>d==="edit"&&xt.every(({name:te})=>te!==H?.name),Ka=()=>{Ga()&&xe("didEditFieldNameOnContentType")};return u.jsx(_n.Root,{open:R,onOpenChange:it,children:u.jsxs(_n.Content,{children:[u.jsx(K0,{actionType:d,attributeName:v,contentTypeKind:q,dynamicZoneTarget:x,modalType:w,forTarget:j,targetUid:A,attributeType:h,customFieldUid:b,showBackLink:V}),qr&&u.jsx(U0,{attributes:jn,forTarget:j,kind:zr||"collectionType"}),!qr&&u.jsxs(B_,{onSubmit:Ze,children:[u.jsx(_n.Body,{children:u.jsxs($t.Root,{variant:"simple",value:S,onValueChange:te=>{I(te),cn(te)},hasError:Ha?"basic":Za?"advanced":void 0,children:[u.jsxs(ne,{justifyContent:"space-between",children:[u.jsx(J0,{actionType:d,forTarget:j,kind:q,step:O,modalType:w,attributeType:h,attributeName:v,customField:X}),u.jsxs($t.List,{children:[u.jsx($t.Trigger,{value:"basic",children:Je({id:C("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),u.jsx($t.Trigger,{value:"advanced",disabled:Lt(),children:Je({id:C("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),u.jsx(Ua,{marginBottom:6}),u.jsx($t.Content,{value:"basic",children:u.jsx(ne,{direction:"column",alignItems:"stretch",gap:6,children:u.jsx(Fl,{form:Wn,formErrors:at,genericInputProps:Ct,modifiedData:H,onChange:Yt})})}),u.jsx($t.Content,{value:"advanced",children:u.jsx(ne,{direction:"column",alignItems:"stretch",gap:6,children:u.jsx(Fl,{form:dn,formErrors:at,genericInputProps:Ct,modifiedData:H,onChange:Yt})})})]})}),u.jsxs(_n.Footer,{children:[u.jsx(ze,{type:"button",variant:"tertiary",onClick:te=>{te.preventDefault(),it()},children:Je({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),u.jsx(G0,{deleteContentType:()=>Nt(A),deleteComponent:()=>ke(A),isAttributeModal:w==="attribute",isCustomFieldModal:w==="customField",isComponentToDzModal:w==="addComponentToDynamicZone",isComponentAttribute:h==="component",isComponentModal:w==="component",isContentTypeModal:w==="contentType",isCreatingComponent:d==="create",isCreatingDz:d==="create",isCreatingComponentAttribute:H.createComponent||!1,isCreatingComponentInDz:H.createComponent||!1,isCreatingComponentWhileAddingAField:qn,isCreatingContentType:d==="create",isEditingAttribute:d==="edit",isDzAttribute:h==="dynamiczone",isInFirstComponentStep:O==="1",onSubmitAddComponentAttribute:Ze,onSubmitAddComponentToDz:Ze,onSubmitCreateComponent:Ze,onSubmitCreateContentType:Ze,onSubmitCreateDz:Ze,onSubmitEditAttribute:Ze,onSubmitEditComponent:Ze,onSubmitEditContentType:Ze,onSubmitEditCustomFieldAttribute:Ze,onSubmitEditDz:Ze,onClickFinish:Ka})]})]})]})})},Ll={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},Z_=({children:a})=>{const[s,l]=K.useState(Ll),{trackUsage:p}=Pa(),d=K.useCallback(({attributeType:L,customFieldUid:F})=>{l(X=>({...X,actionType:"create",modalType:"customField",attributeType:L,customFieldUid:F,activeTab:"basic"}))},[]),v=K.useCallback(({attributeType:L,step:F})=>{s.forTarget==="contentType"&&p("didSelectContentTypeFieldType",{type:L}),l(X=>({...X,actionType:"create",modalType:"attribute",step:F,attributeType:L,showBackLink:!0,activeTab:"basic"}))},[s.forTarget,p]),h=K.useCallback(({dynamicZoneTarget:L,targetUid:F})=>{l(X=>({...X,dynamicZoneTarget:L,targetUid:F,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),b=K.useCallback(({forTarget:L,targetUid:F})=>{l(X=>({...X,actionType:"create",forTarget:L,targetUid:F,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),x=K.useCallback(L=>{l(F=>({...F,...L,isOpen:!0,activeTab:"basic"}))},[]),j=K.useCallback(({forTarget:L,targetUid:F,attributeName:X,attributeType:ee,customFieldUid:ve})=>{l(Me=>({...Me,modalType:"customField",customFieldUid:ve,actionType:"edit",forTarget:L,targetUid:F,attributeName:X,attributeType:ee,isOpen:!0,activeTab:"basic"}))},[]),w=K.useCallback(({forTarget:L,targetUid:F,attributeName:X,attributeType:ee,step:ve})=>{l(Me=>({...Me,modalType:"attribute",actionType:"edit",forTarget:L,targetUid:F,attributeName:X,attributeType:ee,step:ve,isOpen:!0}))},[]),R=K.useCallback(({modalType:L,forTarget:F,targetUid:X,kind:ee})=>{l(ve=>({...ve,modalType:L,actionType:"edit",forTarget:F,targetUid:X,kind:ee,isOpen:!0,activeTab:"basic"}))},[]),q=K.useCallback(()=>{l(Ll)},[]),O=K.useCallback(({forTarget:L,targetUid:F})=>{l(X=>({...X,forTarget:L,targetUid:F,modalType:"chooseAttribute",activeTab:"basic"}))},[]),A=K.useCallback(()=>{l(L=>({...L,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),V=K.useCallback(({dynamicZoneTarget:L})=>{l(F=>({...F,dynamicZoneTarget:L,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),S=K.useCallback(L=>{l(F=>({...F,activeTab:L}))},[]),I=K.useMemo(()=>({...s,onClickSelectField:v,onClickSelectCustomField:d,onCloseModal:q,onNavigateToChooseAttributeModal:O,onNavigateToAddCompoToDZModal:V,onOpenModalAddComponentsToDZ:h,onNavigateToCreateComponentStep2:A,onOpenModalAddField:b,onOpenModalCreateSchema:x,onOpenModalEditField:w,onOpenModalEditCustomField:j,onOpenModalEditSchema:R,setFormModalNavigationState:l,setActiveTab:S}),[s,v,d,q,O,V,h,A,b,x,w,j,R,S]);return u.jsx(uc.Provider,{value:I,children:a})},G_=()=>{const{formatMessage:a}=me(),s=a({id:C("plugin.name"),defaultMessage:"Content-Type Builder"});return u.jsx(u.Fragment,{children:u.jsxs(ne,{justifyContent:"center",alignItems:"center",height:"100%",direction:"column",children:[u.jsx(ye,{variant:"alpha",children:s}),u.jsx(ye,{variant:"delta",children:a({id:C("table.content.create-first-content-type"),defaultMessage:"Create your first Collection-Type"})})]})})},_o=K.lazy(()=>n0(()=>import("./ListView-BQrbRISW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),K_=()=>{const{formatMessage:a}=me(),s=a({id:`${vn}.plugin.name`,defaultMessage:"Content Types Builder"}),l=ql("App",v=>v.startSection),p=Pl("DataManagerProvider",v=>v.autoReload),d=K.useRef(l);return K.useEffect(()=>{d.current&&d.current("contentTypeBuilder")},[]),u.jsxs(mo.Protect,{permissions:Xx.main,children:[u.jsx(mo.Title,{children:s}),u.jsx(Qx,{children:u.jsx(Z_,{children:u.jsxs(T0,{children:[u.jsx(M0,{}),u.jsxs(u.Fragment,{children:[p&&u.jsx(H_,{}),u.jsx(e0.Root,{sideNav:u.jsx(c0,{}),children:u.jsx(K.Suspense,{fallback:u.jsx(mo.Loading,{}),children:u.jsxs(t0,{children:[u.jsx(Ia,{path:"content-types/create-content-type",element:u.jsx(G_,{})}),u.jsx(Ia,{path:"content-types/:contentTypeUid",element:u.jsx(_o,{})}),u.jsx(Ia,{path:"component-categories/:categoryUid/:componentUid",element:u.jsx(_o,{})}),u.jsx(Ia,{path:"*",element:u.jsx(_o,{})})]})})})]})]})})})]})},nC=Object.freeze(Object.defineProperty({__proto__:null,default:K_},Symbol.toStringTag,{value:"Module"}));export{Da as A,dc as C,tC as S,ir as a,C as g,nC as i,Gt as u};
